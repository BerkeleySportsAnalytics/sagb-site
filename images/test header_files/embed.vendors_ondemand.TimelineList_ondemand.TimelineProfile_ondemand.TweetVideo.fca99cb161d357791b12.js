(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{555:function(e,t,r){"use strict";r.d(t,"k",(function(){return n})),r.d(t,"j",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"p",(function(){return a})),r.d(t,"O",(function(){return s})),r.d(t,"o",(function(){return c})),r.d(t,"N",(function(){return u})),r.d(t,"r",(function(){return l})),r.d(t,"Q",(function(){return d})),r.d(t,"y",(function(){return f})),r.d(t,"X",(function(){return p})),r.d(t,"x",(function(){return h})),r.d(t,"W",(function(){return v})),r.d(t,"n",(function(){return y})),r.d(t,"M",(function(){return E})),r.d(t,"t",(function(){return g})),r.d(t,"S",(function(){return b})),r.d(t,"u",(function(){return O})),r.d(t,"T",(function(){return m})),r.d(t,"B",(function(){return T})),r.d(t,"ab",(function(){return I})),r.d(t,"q",(function(){return _})),r.d(t,"P",(function(){return R})),r.d(t,"d",(function(){return S})),r.d(t,"F",(function(){return P})),r.d(t,"s",(function(){return w})),r.d(t,"R",(function(){return A})),r.d(t,"z",(function(){return C})),r.d(t,"Y",(function(){return D})),r.d(t,"A",(function(){return j})),r.d(t,"Z",(function(){return k})),r.d(t,"h",(function(){return L})),r.d(t,"I",(function(){return N})),r.d(t,"v",(function(){return U})),r.d(t,"U",(function(){return M})),r.d(t,"m",(function(){return x})),r.d(t,"L",(function(){return F})),r.d(t,"l",(function(){return V})),r.d(t,"K",(function(){return B})),r.d(t,"e",(function(){return G})),r.d(t,"G",(function(){return H})),r.d(t,"w",(function(){return J})),r.d(t,"V",(function(){return K})),r.d(t,"b",(function(){return W})),r.d(t,"D",(function(){return Q})),r.d(t,"c",(function(){return Y})),r.d(t,"E",(function(){return z})),r.d(t,"i",(function(){return q})),r.d(t,"J",(function(){return X})),r.d(t,"a",(function(){return Z})),r.d(t,"C",(function(){return $})),r.d(t,"g",(function(){return ee})),r.d(t,"H",(function(){return te}));var n={PAUSE_REQUESTED:"PAUSE_REQUESTED",PLAY_REQUESTED:"PLAY_REQUESTED"},i={MUTE_REQUESTED:"MUTE_REQUESTED",UNMUTE_REQUESTED:"UNMUTE_REQUESTED"},o={CAPTIONS_ON_REQUESTED:"CAPTIONS_ON_REQUESTED",CAPTIONS_OFF_REQUESTED:"CAPTIONS_OFF_REQUESTED",CAPTIONS_RESET_REQUESTED:"CAPTIONS_RESET_REQUESTED"},a="REQUEST_PLAY",s=function(e){return{type:a,playerId:e}},c="REQUEST_PAUSE",u=function(e){return{type:c,playerId:e}},l="REQUEST_REPLAY",d=function(e){return{type:l,playerId:e}},f="VIDEO_PLAYED",p=function(e){return{type:f,playerId:e}},h="VIDEO_PAUSED",v=function(e){return{type:h,playerId:e}},y="REQUEST_MUTE",E=function(e){return{type:y,playerId:e}},g="REQUEST_UNMUTE",b=function(e){return{type:g,playerId:e}},O="REQUEST_VOLUME_CHANGE",m=function(e,t){return{type:O,volume:t,playerId:e}},T="VIDEO_VOLUME_CHANGED",I=function(e,t,r){return{type:T,isMuted:t,volume:r,playerId:e}},_="REQUEST_PLAYBACK_TIME_RANGE",R=function(e,t,r){return{type:_,startTimeS:t,endTimeS:r,playerId:e}},S="CANCEL_PLAYBACK_TIME_RANGE",P=function(e){return{type:S,playerId:e}},w="REQUEST_SCRUB_TO_FRACTION",A=function(e,t){return{type:w,fraction:t,playerId:e}},C="VIDEO_SEEKED",D=function(e){return{type:C,playerId:e}},j="VIDEO_SEEKING",k=function(e){return{type:j,playerId:e}},L="HIDE_CONTROLS",N=function(e){return{type:L,playerId:e}},U="SHOW_CONTROLS",M=function(e){return{type:U,playerId:e}},x="REQUEST_CAPTIONS_ON",F=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:x,isUserSet:t,playerId:e}},V="REQUEST_CAPTIONS_OFF",B=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:V,isUserSet:t,playerId:e}},G="CAPTIONS_TOGGLED",H=function(e,t){return{type:G,areCaptionsShown:t,playerId:e}},J="UPDATE_VISIBILITY",K=function(e,t,r,n){return{type:J,playerId:e,percentVisible:t,percentOfViewportOccupied:r,sizesInfo:n}},W="CALL_TO_ACTION_CLICKED",Q=function(e){return{type:W,playerId:e}},Y="CALL_TO_ACTION_IMPRESSION",z=function(e){return{type:Y,playerId:e}},q="LIVE_CLICKTHROUGH_CLICKED",X=function(e){return{type:q,playerId:e}},Z="AUTOPLAY_DISABLED",$=function(e){return{type:Z,playerId:e}},ee="DATA_USAGE_COLLECTED",te=function(e,t){return{type:ee,playerId:e,bytes:t}}},556:function(e,t,r){"use strict";r.d(t,"a",(function(){return U}));r(56),r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(2),i=r.n(n),o=r(38),a=r.n(o),s=r(3),c=r.n(s),u=r(4),l=r.n(u),d=r(6),f=r.n(d),p=r(16),h=r.n(p),v=r(19),y=r.n(v),E=r(10),g=r.n(E),b=r(1),O=r.n(b),m=(r(36),r(0)),T=r(554),I=r(34),_=r.n(I),R=(r(90),r(432));function S(e){var t=P(e);return function(e){var r=P(e);return Object(R.a)(t,r)||(t=r),t}}function P(e){if(!e||"object"!==_()(e))return e;var t=JSON.parse(JSON.stringify(e));return delete t.dataUsageBytes,t.tracks=t.tracks.map((function(e){return"number"==typeof e.currentTimeMs&&delete e.currentTimeMs,e})),t}var w=r(751),A=r(69),C=r.n(A),D=r(5),j=r(665);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}function U(e){var t=e.periodic,r=e.children,n=t?M.PeriodicContext.Consumer:M.Context.Consumer;return m.createElement(n,null,(function(e){var t=e.aspectRatio,n=e.guestsState,i=e.playerApi,o=e.playerState,a=e.containerRef;return i&&a&&o?r({aspectRatio:t,guestsState:n,playerApi:i,playerState:o,containerRef:a}):null}))}var M=function(e){h()(r,e);var t=N(r);function r(){var e;c()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),O()(f()(e),"_cache",{stablePlayerState:S(null)}),O()(f()(e),"state",{hasError:null,guestsState:null,playerApi:null,playerState:null,stablePlayerState:null}),O()(f()(e),"_renderCustomOverlay",(function(){var t=e.props.children,r=e.state,n=r.guestsState,i=r.playerApi,o=r.stablePlayerState;return i&&t?"function"==typeof t?t({guestsState:n,playerApi:i,playerState:o,containerRef:e._containerRef}):t:null})),O()(f()(e),"_handleReload",(function(){return e.setState((function(){return{hasError:null}}))})),O()(f()(e),"_handlePlayerApi",(function(t){return function(r){var n=e.props.playerId;e.setState({playerApi:r}),e.props.onApiReady&&e.props.onApiReady(r),n&&t&&(e._unregister=t(n,r)),e._unsubscribe=r.subscribe((function(t,r){var n=e._cache.stablePlayerState(t);e.setState({stablePlayerState:n,playerState:t,guestsState:r}),e.props.onStateUpdate&&e.props.onStateUpdate(t,r)}))}})),e}return l()(r,[{key:"componentWillUnmount",value:function(){this._unregister&&this._unregister(),this._unsubscribe&&this._unsubscribe()}},{key:"componentDidUpdate",value:function(){if(!this._containerRef){var e=C.a.findDOMNode(this);e&&e instanceof HTMLElement&&(this._containerRef=e)}}},{key:"componentDidCatch",value:function(e,t){var r={error:e,info:t};console.error(r),this.setState((function(){return{hasError:r}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.guestsState,o=t.playerApi,s=t.playerState,c=t.stablePlayerState,u=this.props,l=u.aspectRatio,d=(u.children,u.objectFitVideo),f=(u.onApiReady,u.onStateUpdate,u.playerId,u.basePlayerClass),p=u.size,h=a()(u,["aspectRatio","children","objectFitVideo","onApiReady","onStateUpdate","playerId","basePlayerClass","size"]),v={aspectRatio:this.props.aspectRatio,guestsState:n,playerApi:o,playerState:s,containerRef:this._containerRef},y=L(L({},v),{},{playerState:c});return m.createElement(T.a,{ratio:l,style:[x.root,x[p]]},this.state.hasError?m.createElement(w.a,{onReloadPress:this._handleReload}):m.createElement(r.Context.Provider,{value:y},m.createElement(r.PeriodicContext.Provider,{value:v},m.createElement(j.a.RegistrationContext.Consumer,null,(function(t){var r=t.registerPlayer;return m.createElement(f,i()({},h,{customOverlay:e._renderCustomOverlay(),displayOptions:{objectFitVideo:d},setPlayerApi:e._handlePlayerApi(r)}))})))))}}]),r}(m.Component);O()(M,"Consumer",U),O()(M,"defaultProps",{aspectRatio:D.a.theme.aspectRatios.landscape,size:"fill"}),O()(M,"Context",m.createContext({aspectRatio:D.a.theme.aspectRatios.landscape,guestsState:null,playerApi:null,playerState:null,containerRef:null})),O()(M,"PeriodicContext",m.createContext({aspectRatio:D.a.theme.aspectRatios.landscape,guestsState:null,playerApi:null,playerState:null,containerRef:null}));var x=D.a.create({root:{position:"relative"},fill:{width:"100%",height:"100%"},small:{width:480,height:270},medium:{width:640,height:360},large:{width:800,height:450}});t.b=M},557:function(e,t,r){"use strict";t.a={BROADCAST_REQUEST_ERROR:"BROADCAST_REQUEST_ERROR",BROADCAST_ENDED_NO_REPLAY:"BROADCAST_ENDED_NO_REPLAY",BROADCAST_NOT_FOUND:"BROADCAST_NOT_FOUND",CONFIG_USER_DATA_NETWORK_ERROR:"CONFIG_USER_DATA_NETWORK_ERROR",CONFIG_NETWORK_ERROR:"CONFIG_NETWORK_ERROR",DMCA_TAKEDOWN_ERROR:"DMCA_TAKEDOWN_ERROR",EUROPEAN_COPYRIGHT_VIOLATION:"EUROPEAN_COPYRIGHT_VIOLATION",LIVE_PARSE_ERROR:"LIVE_PARSE_ERROR",LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID:"LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID",LIVE_STREAM_ACQUISITION_NETWORK_ERROR:"LIVE_STREAM_ACQUISITION_NETWORK_ERROR",LIVE_VIDEO_GEOBLOCK_ERROR:"LIVE_VIDEO_GEOBLOCK_ERROR",LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:"LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR",LIVE_VIDEO_GEOLOCATION_PROMPT:"LIVE_VIDEO_GEOLOCATION_PROMPT",LIVE_VIDEO_NO_COOKIES_ERROR:"LIVE_VIDEO_NO_COOKIES_ERROR",MEDIA_NOT_SUPPORTED:"MEDIA_NOT_SUPPORTED",MEDIA_SRC_INVALID_ERROR:"MEDIA_SRC_INVALID_ERROR",MEDIA_ABORTED:"MEDIA_ABORTED",MEDIA_NETWORK_ERROR:"MEDIA_NETWORK_ERROR",MEDIA_DECODE_ERROR:"MEDIA_DECODE_ERROR",MEDIA_GEOBLOCK_ERROR:"MEDIA_GEOBLOCK_ERROR",MEDIA_TEARDOWN_ERROR:"MEDIA_TEARDOWN_ERROR",MEDIA_UNKNOWN_CODE_ERROR:"MEDIA_UNKNOWN_CODE_ERROR",ORIGINAL_CONTEXT_DELETED:"ORIGINAL_CONTEXT_DELETED",UNSUPPORTED_TYPE:"UNSUPPORTED_TYPE",VMAP_NETWORK_ERROR:"VMAP_NETWORK_ERROR",VMAP_PARSE_ERROR:"VMAP_PARSE_ERROR"}},559:function(e,t,r){"use strict";r.d(t,"c",(function(){return H})),r.d(t,"e",(function(){return K})),r.d(t,"a",(function(){return Q})),r.d(t,"f",(function(){return Y})),r.d(t,"b",(function(){return z})),r.d(t,"i",(function(){return X})),r.d(t,"g",(function(){return Z})),r.d(t,"j",(function(){return $})),r.d(t,"d",(function(){return ee}));r(23),r(42),r(37),r(15),r(18),r(43);var n=r(38),i=r.n(n),o=r(61),a=r.n(o),s=r(1),c=r.n(s),u=(r(320),r(28),r(36),r(577)),l=r(735),d=r(602),f=(r(321),r(63),r(78),r(3)),p=r.n(f),h=r(4),v=r.n(h),y=r(628),E=r(600),g=r(557),b=r(53),O=r.n(b);r(20),r(103);var m=/^[0-9]{1,6}(\.[0-9]+)?$/,T=/^([0-9]{0,3}[hH])?([0-9]{0,2}[mM])?([0-9]{0,6}[sS])?$/,I=r(668),_=(r(66),r(94),r(48),r(599));function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={features:{fatalErrorRetryMax:3},translations:{}},w=function(){function e(t,r){p()(this,e),this.httpClient=t,this.logger=r}return v()(e,[{key:"load",value:function(e,t){var r=this;if(!this.httpClient)return Promise.reject(g.a.MEDIA_TEARDOWN_ERROR);var n=e.videoConfig,o=i()(e,["videoConfig"]);return(n&&(n.vmapUrl||e.videoConfig.variants&&e.videoConfig.variants.length>0)?this.loadStaticConfigState(n,e.source):this.loadDynamicConfigState(e.source,n,t)).then((function(e){return r.convertConfigStateToPlayerState(e,o,t)}))}},{key:"loadStaticConfigState",value:function(e,t){var r=this,n=function(){try{return JSON.parse(window.sessionStorage.getItem("TwitterVideoPlayerUserConfig"))}catch(e){}}(),i={eventId:e.eventId,posterImage:e.poster,track:{contentId:e.contentId,contentType:e.contentType,cta:e.cta,durationMs:e.durationMs,expandedUrl:e.expandedUrl,mediaAvailability:e.mediaAvailability,publisherId:e.publisherId,shouldLoop:e.loop,variants:e.variants,viewCount:e.viewCount,vmapUrl:e.vmapUrl}};if(!e.shouldLoadTranslations||!this._shouldLoadStaticConfig(t))return Promise.resolve(S(S({},P),i));var o=this.httpClient.dispatch({method:"GET",path:"/1.1/videos/static/config.json",host:"https://api.twitter.com"}).then((function(e){if(200!==e.status)throw new Error("".concat(g.a.CONFIG_USER_DATA_NETWORK_ERROR,":").concat(e.status));var t=JSON.parse(e.body);return function(e){try{window.sessionStorage.setItem("TwitterVideoPlayerUserConfig",JSON.stringify(e))}catch(e){}}(t),t}),(function(){throw new Error(g.a.CONFIG_USER_DATA_NETWORK_ERROR)})).catch((function(e){return r.logger.log("ConfigurationLoader","failed to load static configuration: ".concat(e)),S({},P)}));return(n?Promise.resolve(n):o).then((function(e){var t=e.features,r=e.translations;return S(S({},i),{},{features:t,translations:r})}))}},{key:"loadDynamicConfigState",value:function(e,t,r){if(e.type===_.a.BROADCAST&&t&&!t.shouldLoadTranslations)return Promise.resolve(S({},P));try{return this.httpClient.dispatch({method:"GET",path:this.getApiEndpointForPlayerSource(e),host:"https://api.twitter.com",params:{bitrate_cap:r.bitrateCap}}).then((function(e){if(200!==e.status)throw new Error("".concat(g.a.CONFIG_NETWORK_ERROR,":").concat(e.status));var r=JSON.parse(e.body);return t&&t.poster&&(r.posterImage=t.poster),r}),(function(){throw new Error(g.a.CONFIG_NETWORK_ERROR)}))}catch(e){return Promise.reject(e)}}},{key:"convertConfigStateToPlayerState",value:function(e,t,r){var n,o,a=e.track,s=e.translations,c=i()(e,["track","translations"]),u=r.reloadTimecode,l=function(e){if(m.test(e))return+e;var t=T.exec(e);if(t&&t[0]){var r=O()(t,4),n=r[1],i=r[2],o=r[3],a=0;return n&&(a+=3600*+n.slice(0,-1)),i&&(a+=60*+i.slice(0,-1)),o&&(a+=+o.slice(0,-1)),a}}(r.requestedTimecode),d=l>0||0===l?l:-1;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e}(s),a&&(o=a.mediaAvailability,r.maxLoopCount&&(a.maxLoopCount=r.maxLoopCount,a.loopCounter=0),a.variants&&a.variants.length>0?n=a.variants:a.playbackUrl&&a.playbackType&&(n=[{src:a.playbackUrl,type:a.playbackType}])),Object(I.a)()&&(n=Object(E.a)(n));var f,p=Object(y.a)(o);if(p)switch(p){case g.a.ORIGINAL_CONTEXT_DELETED:case g.a.DMCA_TAKEDOWN_ERROR:throw new Error(p);case g.a.EUROPEAN_COPYRIGHT_VIOLATION:throw(f=new Error(p)).copyrightHolder=o.unavailability_info.copyright_violation.copyright_holder_name,f}return S(S(S({},t),c),{},{tracks:[S(S({},a),{},{id:0,displayType:"content",requestedTimecode:d,reloadTimecode:u,rotation:0,variants:n,currentVariantIndex:0})],currentTrackId:0,source:S(S({},t.source),{},{trackId:0}),mediaAvailability:o})}},{key:"getApiEndpointForPlayerSource",value:function(e){switch(e.type){case _.a.TWEET:var t=e.index>0?"/".concat(e.index):"";return"".concat("/1.1/videos/","tweet/config/").concat(e.id).concat(t,".json");case _.a.BROADCAST:return"".concat("/1.1/videos/","broadcast/config/").concat(e.id,".json");case _.a.DM:return"".concat("/1.1/videos/","dm/config/").concat(e.id,".json");default:throw new Error("".concat(g.a.UNSUPPORTED_TYPE,":").concat(e.type))}}},{key:"_shouldLoadStaticConfig",value:function(e){return e.type!==_.a.STATIC_BROADCAST}}]),e}(),A=r(601);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j="error",k="playback",L=function(){function e(t,r,n,i,o){p()(this,e),this.dispatch=t,this.httpClient=r,this.twitterAuthedHttpClient=n,this.playerId=i,this.showGeolocationPrompt=o}return v()(e,[{key:"load",value:function(e){if(!this.httpClient||!this.twitterAuthedHttpClient)return Promise.reject(g.a.MEDIA_TEARDOWN_ERROR);var t=e.tracks[0];return"live"!==t.contentType&&"broadcast"!==t.contentType?Promise.resolve(e):t.contentId?this.getUserPermission(t).then(this.getUserGeolocation.bind(this)).then(this.parseGeolocationData.bind(this)).then(this.acquireLiveStream.bind(this,e)).then(this.parseStreamAcquisitionResponse.bind(this)).then(this.setCookies.bind(this)).then(this.checkCookies.bind(this)).catch(this.handleRejectedPromises.bind(this)).then((function(r){var n=r.isLiveTimecode,i=r.playbackUrl,o=r.lifecycleToken,a=r.chatToken,s=r.broadcastShareUrl,c=r.restrictions;if(void 0!==c){if(void 0!==c.find((function(e){return"geoblocked"===e.restriction})))throw new Error(g.a.LIVE_VIDEO_GEOBLOCK_ERROR);var u=c.find((function(e){return"copyright-violation"===e.restriction}));if(void 0!==u){var l,d=u.copyright_violation_type;l=void 0!==d&&"TYPE_1"===d?g.a.EUROPEAN_COPYRIGHT_VIOLATION:g.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR;var f=new Error(l);throw f.copyrightHolder=u.copyright_violation_copyright_holder_name,f}}return D(D({},e),{},{tracks:[D(D({},t),{},{isLive:"live"===t.contentType||t.isLive,isLiveTimecode:n,variants:[{src:i,type:"application/x-mpegURL"}],lifecycleToken:o,chatToken:a,broadcastShareUrl:s})]})})):Promise.reject(Error(g.a.LIVE_STREAM_ACQUISITION_MISSING_CONTENT_ID))}},{key:"getUserPermission",value:function(e){return e.isEventGeoblocked?this.showGeolocationPrompt?Promise.resolve({shouldGetGeolocation:!0}):"permissions"in navigator?navigator.permissions.query({name:"geolocation"}).then((function(e){var t="granted"===e.state;return Promise.resolve({shouldGetGeolocation:t})})):Promise.resolve({shouldGetGeolocation:!1}):Promise.resolve({shouldGetGeolocation:!1})}},{key:"getUserGeolocation",value:function(e){return e.shouldGetGeolocation&&"geolocation"in navigator?(this.dispatch(Object(u.g)(this.playerId)),new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(){return e()}))}))):Promise.resolve()}},{key:"parseGeolocationData",value:function(e){return Promise.resolve({latitude:e&&e.coords.latitude,longitude:e&&e.coords.longitude})}},{key:"acquireLiveStream",value:function(e,t){var r=this,n=this.getLiveStreamAcquisitionDetails(e,t),i=n.params,o=n.path,a=n.isLiveTimecode;return this.twitterAuthedHttpClient.dispatch({host:"https://api.twitter.com",method:"GET",params:i,path:o}).then((function(e){return e.status<200||e.status>=400?Promise.reject({type:j,reason:g.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR}):(r.dispatch(Object(u.f)(r.playerId)),Promise.resolve({body:e.body,isLiveTimecode:a}))}),(function(){return Promise.reject({type:j,reason:g.a.LIVE_STREAM_ACQUISITION_NETWORK_ERROR})}))}},{key:"getLiveStreamAcquisitionDetails",value:function(e,t){var r=t.latitude,n=t.longitude,i=e.client,o=e.source,a=o&&o.trackId||0,s=e.tracks[a],c={client:i,use_syndication_guest_id:"tfw"===i,lat:r,lng:n,cookie_set_host:new A.a(window.location.href).getHostname()},u=e.features&&e.features.isLiveTimecodeEnabled&&(s.requestedTimecode>0||0===s.requestedTimecode);return u&&(c.latest_replay_playlist=!0),{params:c,isLiveTimecode:u,path:"".concat("/1.1/live_video_stream/status/").concat(s.contentId)}}},{key:"parseStreamAcquisitionResponse",value:function(e){var t=JSON.parse(e.body);return t&&t.source&&t.source.noRedirectPlaybackUrl?Promise.resolve({cookieSetUrl:t.source.cookieSetUrl,isLiveTimecode:e.isLiveTimecode,playbackUrl:t.source.noRedirectPlaybackUrl,lifecycleToken:t.lifecycleToken,chatToken:t.chatToken,broadcastShareUrl:t.shareUrl,restrictions:t.restrictions}):Promise.reject({type:j,reason:g.a.LIVE_PARSE_ERROR})}},{key:"setCookies",value:function(e){var t=e.cookieSetUrl,r=i()(e,["cookieSetUrl"]);return t?this.httpClient.dispatch({method:"GET",path:t,host:"",withCredentials:!0}).then((function(){return Promise.resolve(e)}),(function(){return Promise.reject({type:k,payload:r})})):Promise.reject({type:k,payload:r})}},{key:"checkCookies",value:function(e){var t=new A.a(e.cookieSetUrl);return window.location.host===t.getHostname()?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:"https://t.lv.twimg.com/live_video_stream/cookie_check",host:"",withCredentials:!0}).then((function(t){return 400!==t.status?Promise.resolve(e):Promise.reject({type:j,reason:g.a.LIVE_VIDEO_NO_COOKIES_ERROR})}),(function(){return Promise.reject({type:j,reason:g.a.LIVE_VIDEO_NO_COOKIES_ERROR})}))}},{key:"handleRejectedPromises",value:function(e){if(e.type===k)return Promise.resolve(e.payload);var t=e.reason?new Error(e.reason):e;return Promise.reject(t)}}]),e}();r(717),r(331);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M=function(){function e(t){p()(this,e),this.httpClient=t}return v()(e,[{key:"load",value:function(e){var t=this;if(!this.httpClient)return Promise.reject(g.a.MEDIA_TEARDOWN_ERROR);var r=e.tracks[0];return"vmap"!==r.contentType?Promise.resolve(e):this.httpClient.dispatch({method:"GET",path:r.vmapUrl,host:"",withCredentials:!1}).then((function(n){if(n.status<200||n.status>=400)throw new Error(g.a.VMAP_NETWORK_ERROR);var i=t.parseVmap(n.body);return U(U({},e),{},{tracks:[U(U({},r),i)]})}),(function(){throw new Error(g.a.VMAP_NETWORK_ERROR)}))}},{key:"parseVmap",value:function(e){var t=(new window.DOMParser).parseFromString(e,"application/xml").getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","content")[0];if(void 0===t)throw new Error(g.a.VMAP_PARSE_ERROR);var r=t.getElementsByTagName("MediaFile")[0];if(void 0===r)throw new Error(g.a.VMAP_PARSE_ERROR);var n=r.textContent.trim().replace(/^http:\/\/amp\.twimg\.com\//,"https://amp.twimg.com/"),i=r.getAttribute("type")||function(e){var t=new A.a(e).getPath();return".m3u8"===t.slice(t.lastIndexOf("."))?"application/x-mpegURL":"video/mp4"}(n);return{publisherId:t.getAttribute("ownerId"),contentId:t.getAttribute("contentId"),variants:[{src:n,type:i}],cta:this.getCta(t)}}},{key:"getCta",value:function(e){var t=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_open_url")[0],r=e.getElementsByTagNameNS("http://twitter.com/schema/videoVMapV2.xsd","cta_watch_now")[0];return void 0!==t?{type:"url",url:t.getAttribute("url")}:void 0!==r?{type:"watch",url:r.getAttribute("url")}:void 0}}]),e}(),x=function(e,t,r,n,i,o,a){return[new w(r,a),new d.b(r,o),new M(t),new L(e,t,r,n,i)]},F=function(e,t,r,n){var i=Promise.resolve({source:e,videoConfig:t});return r.reduce((function(e,t){return e.then((function(e){return t.load(e,n)}))}),i)},V=r(578);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H="CONFIGURE_PLAYER",J=function(e,t,r,n,i,o,a,s,c){return{type:H,source:t,session:r,analytics:n,playerId:e,adProvider:i,videoConfig:o,promotedContext:a,initiallyMutedCaptions:s,intentToPlayTime:c}},K="RELOADING_PLAYER",W=function(e,t,r){return{type:K,playerId:e,source:t,session:r}},Q="BROADCAST_UPDATED",Y=function(e,t){return{type:Q,updatedState:t,playerId:e}},z="CONFIGURATION_LOADED",q=function(e,t){return{type:z,playerState:t,playerId:e}},X=function(e,t){return{type:"FEATURES_LOADED",features:t,playerId:e}},Z=function(e,t,r,n,i,o,a,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=arguments.length>9?arguments[9]:void 0;return function(f){return f(J(e,t,n,i,o,r,c.promotedContext,c.initiallyMutedCaptions,c.intentToPlayTime)),F(t,r,x(f,Object(V.c)(e),Object(V.e)(e),e,c.showGeolocationPrompt,c.includeBroadcastEventAssociation,l),c).then((function(t){if(f(q(e,t)),a(),Object(d.c)(t)){var r=t.source.id,n=new d.a(f,Object(V.e)(e),e,r,c.includeBroadcastEventAssociation);return n.queueUpdate(t.isLive).catch((function(t){f(Object(u.d)(e,t))})),n}})).catch((function(t){f(Object(u.d)(e,t)),s()}))}},$=function(e,t,r,n,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0;return function(c){return c(W(e,t,n)),F(t,r,x(c,Object(V.c)(e),Object(V.e)(e),e,a.showGeolocationPrompt,a.includeBroadcastEventAssociation,s),a).then((function(t){c(q(e,t)),i()})).catch((function(t){c(Object(u.d)(e,t)),o()}))}},ee=(t.h=function(e,t){switch(t.type){case H:case K:return G(G(G({},e),t.promotedContext),{},{source:t.source,session:t.session,playerId:t.playerId,configuration:{loading:!0}});case z:var r=e.currentTrackId?e.currentTrackId:t.playerState.currentTrackId,n=[].concat(a()(t.playerState.tracks||[]),a()(e.tracks||[]));return t.playerState.features.isDebuggingEnabled&&(l.a.debuggingEnabled=!0),G(G(G({},e),t.playerState),{},{currentTrackId:r,features:G(G({},e.features),t.playerState.features),tracks:n,configuration:{loading:!1}});case"FEATURES_LOADED":return G(G({},e),{},{features:G(G({},e.features),t.features)});case Q:var o=t.updatedState,s=o.cta,c=o.isLive,u=o.viewerCount,d=o.viewCount,f=i()(o,["cta","isLive","viewerCount","viewCount"]),p=function(e){var t=e.tracks;return{sourceTrack:t.find((function(t){return t.id===e.source.trackId})),otherTracks:t.filter((function(t){return t.id!==e.source.trackId}))}}(e),h=p.sourceTrack,v=p.otherTracks;return h&&(0===h.requestedTimecode||h.requestedTimecode>0)&&delete f.posterImage,G(G(G({},e),f),{},{tracks:[].concat(a()(v),[G(G({},h),{},{cta:s,isLive:c,viewerCount:u,viewCount:d})])});default:return e}},{configuration:{loading:!1,error:void 0},tracks:[]})},561:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}));var n={EVENT:"event",VISIT:"url",WATCH:"watch",IMAGE:"image",WATCH_NOW:"watch_now",SHOP:"shop"},i=3,o=["cover","contain"]},569:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"e",(function(){return p})),r.d(t,"a",(function(){return h}));r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(1),i=r.n(n),o=(r(320),r(559)),a=r(586),s=r(555);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l="PLAY_PREVIEW",d=function(e){return{type:l,playerId:e}},f="PAUSE_PREVIEW",p=function(e){return{type:f,playerId:e}};t.d=function(e,t){switch(t.type){case o.c:return u(u({},e),{},{initiallyMutedCaptions:t.initiallyMutedCaptions});case l:return e.isPlaying?e:u(u({},e),{},{isPreview:!0,controls:u(u({},e.controls),{},{muteState:s.j.MUTE_REQUESTED})});case f:return u(u({},e),{},{isPreview:!0,controls:u(u({},e.controls),{},{muteState:s.j.MUTE_REQUESTED})});case s.p:case s.r:case s.t:case s.u:case s.s:case a.b:if(!e.isPreview)return e;var r=e.tracks.find((function(t){return t.id===e.currentTrackId}));if(!r)return e;var n="gif"===r.contentType?void 0:s.j.UNMUTE_REQUESTED;return u(u({},e),{},{isPreview:!1,controls:u(u({},e.controls),{},{muteState:n})});default:return e}};var h={isPreview:!1}},576:function(e,t,r){"use strict";r.d(t,"e",(function(){return f})),r.d(t,"q",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"r",(function(){return v})),r.d(t,"c",(function(){return y})),r.d(t,"n",(function(){return E})),r.d(t,"d",(function(){return g})),r.d(t,"o",(function(){return b})),r.d(t,"p",(function(){return O})),r.d(t,"b",(function(){return m})),r.d(t,"k",(function(){return T})),r.d(t,"l",(function(){return R})),r.d(t,"m",(function(){return S})),r.d(t,"i",(function(){return P})),r.d(t,"h",(function(){return w})),r.d(t,"g",(function(){return A})),r.d(t,"a",(function(){return L}));r(23),r(42),r(37),r(15),r(18),r(43);var n=r(61),i=r.n(n),o=r(734),a=r.n(o),s=r(1),c=r.n(s),u=(r(320),r(28),r(156),r(103),r(36),r(555));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f="TICK",p=function(e,t,r,n,i,o){return{type:f,currentTimeMs:t,absoluteTimeMs:r,durationMs:n,playerId:e,hasCaptions:i,currentVariantIndex:o}},h="TRACK_FINISHED",v=function(e){return{type:h,playerId:e}},y="NEXT_TRACK",E=function(e){return{type:y,playerId:e}},g="PLAYER_READY",b=function(e){return{type:g,playerId:e}},O=function(e,t){return{type:"ROTATION_UPDATED",playerId:e,rotation:t}},m="HLSJS_READY",T=function(e){return{type:m,playerId:e}},I=new Date("Jan 01 1900 GMT").getTime(),_=new Date("Jan 01 1970 GMT").getTime()-I,R=function(e,t){return{type:"ID3_METADATA",playerId:e,metadata:t}},S=function(e,t){return{type:"ID3_TAG_DATA",playerId:e,id3Json:t,currentNtpTime:(Date.now()+_)/1e3}},P=function(e){return{type:"BUFFER_START",playerId:e}},w=function(e){return{type:"BUFFER_END",playerId:e}},A=function(e,t){return{type:"BITRATE_SWITCHED",playerId:e,bitrate:t}},C=function(e){var t=e.tracks;return{currentTrack:t.find((function(t){return t.id===e.currentTrackId})),otherTracks:t.filter((function(t){return t.id!==e.currentTrackId}))}},D=function(e,t){var r=C(e),n=r.currentTrack,i=r.otherTracks;return i.splice(e.currentTrackId,0,t(n)),d(d({},e),{},{tracks:i})},j=function(e,t){return D(e,(function(e){return d(d({},e),t)}))};t.j=function(e,t){switch(t.type){case f:return j(e,{durationMs:t.durationMs,currentTimeMs:t.currentTimeMs,absoluteTimeMs:t.absoluteTimeMs,hasCaptions:t.hasCaptions,currentVariantIndex:t.currentVariantIndex});case u.y:return d(d({},D(e,(function(e){return d(d({},e),{},{playbackCompleted:!1})}))),{},{tracksFinished:!1});case g:return j(e,{playerReady:!0});case"ROTATION_UPDATED":return j(e,{rotation:t.rotation});case"ID3_METADATA":var r=t.metadata,n=e;return r&&(n=j(n,{metadata:r})),n;case"ID3_TAG_DATA":var i=t.id3Json,o=t.currentNtpTime,a=i.ntp,s=e;if(a)s=j(s,{liveLatencyMs:1e3*(o-a)});return s;case"BITRATE_SWITCHED":return j(e,{currentBitrate:t.bitrate});case"BUFFER_START":return j(e,{isBuffering:!0});case"BUFFER_END":return j(e,{isBuffering:!1});case y:return k(e,!0);case h:var c=D(e,(function(e){return d(d({},e),{},{playbackCompleted:!0})}));return k(c);default:return e}};var k=function(e,t){var r,n=C(e).currentTrack,o=!1!==n.shouldAutoAdvance||t,s="ad"===n.displayType&&(null===(r=e.errorInfo)||void 0===r?void 0:r.adFailed);if(e.nextTrackIds.length>0&&o){var c=a()(e.nextTrackIds),l=c[0],f=c.slice(1),p=e.tracks,h=p.find((function(e){return e.id===l})),v=p.filter((function(e){return e.id!==l}));return d(d({},e),{},{currentTrackId:l,nextTrackIds:f,error:s?void 0:e.error,controls:d(d({},e.controls),{},{playState:s&&!e.isPlaying?void 0:u.k.PLAY_REQUESTED,captionsState:e.areCaptionsShown?u.f.CAPTIONS_ON_REQUESTED:u.f.CAPTIONS_OFF_REQUESTED}),intentToPlayTime:void 0,tracks:[].concat(i()(v),[d(d({},h),{},{playerReady:!1})])})}return d(d({},e),{},{intentToPlayTime:void 0,isPlaying:!!n.shouldLoop,tracksFinished:!n.shouldLoop&&0===e.nextTrackIds.length})},L={nextTrackIds:[]}},577:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"h",(function(){return d})),r.d(t,"a",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return v})),r.d(t,"b",(function(){return b}));r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(1),i=r.n(n),o=(r(322),r(628)),a=r(557),s=r(559);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l="PLAYBACK_ERROR",d=function(e,t){return{type:l,playerId:e,thrownError:t,isFatal:!0}},f="CONFIGURATION_LOAD_ERROR",p=function(e,t){return{type:f,playerId:e,thrownError:t,isFatal:!0}},h=function(e){return{type:"ERROR_RESOLVED",playerId:e}},v=function(e){return{type:"GEOLOCATION_PROMPT",playerId:e}},y=function(e){switch(e.message){case a.a.BROADCAST_ENDED_NO_REPLAY:case a.a.BROADCAST_NOT_FOUND:case a.a.DMCA_TAKEDOWN_ERROR:case a.a.EUROPEAN_COPYRIGHT_VIOLATION:case a.a.ORIGINAL_CONTEXT_DELETED:case a.a.LIVE_VIDEO_GEOBLOCK_ERROR:case a.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR:case a.a.LIVE_VIDEO_GEOLOCATION_PROMPT:case a.a.MEDIA_GEOBLOCK_ERROR:case a.a.MEDIA_NOT_SUPPORTED:return!1;default:return!0}},E=function(e){if(!y(e))return!1;switch(e.message){case a.a.LIVE_VIDEO_NO_COOKIES_ERROR:return!1;default:return!0}},g=function(e,t){var r,n=t.currentTrackId,i=t.errorInfo,o=t.tracks,a=i.count+1,s=y(e),c=E(e)&&a<=i.retryMax,u="ad"===(null==o||null===(r=o[n])||void 0===r?void 0:r.displayType)?!c||!s:t.errorInfo.adFailed;return{backoffMs:c?1e3*t.errorInfo.count:b.backoffMs,count:a,canRetry:s,autoRetry:c,adFailed:u}};t.e=function(e,t){switch(t.type){case s.b:var r=parseInt(e.features.fatalErrorRetryMax,10),n=isNaN(r)?b.errorInfo.retryMax:r;return u(u({},e),{},{errorInfo:u(u({},e.errorInfo),{},{retryMax:n})});case s.e:return u(u({},e),{},{error:void 0,errorInfo:u(u({},e.errorInfo),{},{autoRetry:!1,canRetry:!1})});case f:var i,c=t.thrownError,d=g(c,e);return c.message!==a.a.LIVE_VIDEO_COPYRIGHT_VIOLATION_ERROR&&c.message!==a.a.EUROPEAN_COPYRIGHT_VIOLATION||(i={copyrightHolder:c.copyrightHolder}),u(u({},e),{},{error:c.message,errorData:i,errorInfo:u(u({},e.errorInfo),d)});case l:var p=t.thrownError,h=Object(o.a)(e.mediaAvailability),v=h?new Error(h):p,O=g(v,e);return u(u({},e),{},{error:v.message,errorInfo:u(u({},e.errorInfo),O)});case"ERROR_RESOLVED":return u(u({},e),{},{error:void 0,errorInfo:u(u({},e.errorInfo),{},{autoRetry:!1,canRetry:!1})});case"GEOLOCATION_PROMPT":var m=new Error(a.a.LIVE_VIDEO_GEOLOCATION_PROMPT);return u(u({},e),{},{error:m.message,errorInfo:u(u({},e.errorInfo),{},{autoRetry:E(m),canRetry:y(m)})});default:return e}};var b={error:void 0,errorInfo:{adFailed:!1,autoRetry:!1,backoffMs:void 0,canRetry:!1,count:0,retryMax:0},errorData:void 0}},578:function(e,t,r){"use strict";r.d(t,"f",(function(){return i})),r.d(t,"h",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"g",(function(){return f}));r(320),r(103),r(28);var n={},i=function(e,t,r,i,o,a){n[e]={httpClient:t,twitterAuthedHttpClient:r,errorLogger:i,hlsJsDataUsageTracker:o,featureProvider:a}},o=function(e){delete n[e]},a=function(e){return n[e]&&n[e].httpClient},s=function(e){return n[e]&&n[e].twitterAuthedHttpClient},c=function(e,t){n[e]&&t(n[e].errorLogger)},u=function(e){return function(e){return n[e]||{}}(e).featureProvider},l=function(e,t){n[e]&&t(n[e].hlsJsDataUsageTracker)},d=[],f=function(e){if(!e)throw new SyntaxError("Missing parameter: playbackSessionId");var t=d.find((function(t){return t.playbackSessionId===e}));return d=d.filter((function(t){return t.playbackSessionId!==e})),t}},586:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"g",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"h",(function(){return f})),r.d(t,"a",(function(){return p}));r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(1),i=r.n(n);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s="REQUEST_FULLSCREEN",c=function(e,t,r){return{type:s,playerId:e,containerEl:t,videoEl:r}},u="REQUEST_SHRINK",l=function(e,t){return{playerId:e,type:u,element:t}},d="SET_FULLSCREEN_STATE",f=function(e,t){return{type:d,playerId:e,isFullscreen:t}};t.e=function(e,t){switch(t.type){case d:return a(a({},e),{},{fullscreen:a(a({},e.fullscreen),{},{isFullscreen:t.isFullscreen})});default:return e}};var p={fullscreen:{isFullscreen:!1}}},599:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(64);var n=Object.freeze({BROADCAST:"broadcast",DM:"dm",TWEET:"tweet",STATIC_BROADCAST:"static_broadcast"});t.b={forBroadcast:function(e,t,r){return{type:n.BROADCAST,id:e,tweetId:t,impressionId:r}},forDm:function(e){return{type:n.DM,id:e}},forTweet:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{type:n.TWEET,id:e,impressionId:t,index:r}}}},600:function(e,t,r){"use strict";r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return f}));var n=r(1),i=r.n(n),o=(r(320),r(28),r(94),r(20),r(66),r(90),r(63),r(23),r(42),r(37),r(15),r(18),r(43),r(601));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t){if(e.tracks)return e.tracks.find((function(e){return e.id===t}))},u=function(e){return c(e,e.currentTrackId)},l=function(e){return e.tracks?e.tracks.filter((function(t){return t.id!==e.currentTrackId})):[]},d=new RegExp(/^https:\/\/[\w-]+.twimg.com\/.+\.m3u8/),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(p)},p=function(e){var t=e.src;if(d.test(t)){var r=new o.a(t);r.addSearchParam("descending",!0),t=r.toString()}return s(s({},e),{},{src:t})}},601:function(e,t,r){"use strict";r.d(t,"b",(function(){return s}));var n=r(3),i=r.n(n),o=r(4),a=r.n(o);r(115),r(90),r(23),r(36),r(333),r(63),r(92),r(93),r(116),r(80),r(20),r(196);function s(e){return Object.keys(e).map((function(t){var r=void 0===e[t]?"":encodeURIComponent(e[t]);return"".concat(encodeURIComponent(t),"=").concat(r)})).join("&")}var c=function(){function e(t){i()(this,e);try{this.parser=new URL(t)}catch(e){this.parser=document.createElement("a"),this.parser.href=t}}return a()(e,[{key:"getHostname",value:function(){return this.parser.hostname}},{key:"getPath",value:function(){return this.parser.pathname}},{key:"isSafe",value:function(){return!!this.parser.protocol.match(/^https?:$/)}},{key:"addSearchParam",value:function(e,t){this.parser.search?this.parser.search="".concat(this.parser.search,"&").concat(e,"=").concat(t):this.parser.search="?".concat(e,"=").concat(t)}},{key:"toString",value:function(){return this.parser.href}}]),e}();t.a=c},602:function(e,t,r){"use strict";r.d(t,"c",(function(){return m})),r.d(t,"a",(function(){return T})),r.d(t,"b",(function(){return I}));var n=r(3),i=r.n(n),o=r(4),a=r.n(o),s=r(1),c=r.n(s),u=r(38),l=r.n(u),d=(r(115),r(321),r(63),r(36),r(42),r(193),r(322),r(23),r(28),r(37),r(15),r(18),r(43),r(559)),f=r(561),p=r(557),h=r(600),v=r(599);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{ids:e.join(","),include_events:t}},b=function(e,t,r){try{return e.dispatch({method:"GET",host:"https://api.twitter.com",path:"/1.1/broadcasts/show.json",params:g([t],r),withCredentials:!0}).then((function(e){if(200!==e.status)return Promise.reject("".concat(p.a.BROADCAST_REQUEST_ERROR,":").concat(e.status));var r=JSON.parse(e.body),n=r.broadcasts,i=r.events;if(!n||!n[t]||!n[t].broadcast_id)return Promise.reject(p.a.BROADCAST_NOT_FOUND);if("RUNNING"!==n[t].state&&!n[t].available_for_replay)return Promise.reject(p.a.BROADCAST_ENDED_NO_REPLAY);var o={broadcast:n[t]};return i&&i[t]&&i[t].length&&(o.associatedEvent=i[t][0]),o}),(function(e){return console.log(e),Promise.reject(p.a.BROADCAST_REQUEST_ERROR)}))}catch(e){return Promise.reject(e)}},O=function(e){var t=e.broadcast,r=e.associatedEvent,n=void 0===r?{}:r,i=t.state,o=t.total_watched,a=t.total_watching,s=t.image_url,c=t.start_ms,u=t.ping_ms,l=t.timedout_ms,d=t.end_ms,p=n.description,h=n.title,v=n.url,y=n.id,E="RUNNING"===i,g=s,b=parseInt(a,10)||0,O=parseInt(o,10)||0,m={isLive:E,viewerCount:E?b:O,posterImage:g,eventDescription:p,eventTitle:h,eventUrl:v,eventId:y};if(h&&v&&(m.cta={label:h,type:f.a.EVENT,url:v}),!E){var T=(d||l||u||c)-c;m.durationMs=T}return m},m=function(e){return e.source&&e.source.type===v.a.BROADCAST},T=function(){function e(t,r,n,o,a){i()(this,e),this.dispatch=t,this.httpClient=r,this.playerId=n,this.broadcastId=o,this.includeBroadcastEventAssociation=a,this.updaterTimeout=null}return a()(e,[{key:"queueUpdate",value:function(e){var t,r,n=this,i=e?15:30,o=new Promise((function(e,n){t=e,r=n}));return this.updaterTimeout=setTimeout((function(){var e,i,o;(e=n.httpClient,i=n.broadcastId,o=n.includeBroadcastEventAssociation,b(e,i,o).then((function(e){return O(e)}),(function(e){throw new Error(e)}))).then((function(e){null!=n.updaterTimeout&&(n.queueUpdate(e.isLive),n.dispatch(Object(d.f)(n.playerId,e))),t()}),(function(e){console.log(e),r(e)}))}),1e3*i),o}},{key:"cancelUpdate",value:function(){clearTimeout(this.updaterTimeout),this.updaterTimeout=null}}]),e}(),I=function(){function e(t,r){i()(this,e),this.httpClient=t,this.includeBroadcastEventAssociation=r}return a()(e,[{key:"load",value:function(e){return this.httpClient?function(e,t,r){if(!m(t))return Promise.resolve(t);var n=t.source.id;return b(e,n,r).then((function(e){var r,n,i,o,a,s,c,u,d,f,p=Object(h.d)(t,0),v=(r=e.broadcast,n=r.broadcast_id,i=r.media_key,o=r.profile_image_url,a=r.replay_edited_start_time,s=r.requires_fine_grain_geoblocking,c=r.twitter_user_id,u=r.user_id,d=r.unavailable_in_periscope,f=r.user_display_name,{broadcastId:n,contentId:i,contentType:"broadcast",displayType:"content",expandedUrl:"https://www.pscp.tv/w/".concat(n),isEventGeoblocked:s,playbackType:"application/x-mpegURL",publisherDisplayName:f,publisherId:c,periscopePublisherId:u,publisherProfileImageUrl:o,replayEditedStartTime:a,shouldLoop:!1,unavailableInPeriscope:d}),y=O(e),g=y.cta,b=y.durationMs,m=y.isLive,T=y.viewerCount,I=y.viewCount,_=l()(y,["cta","durationMs","isLive","viewerCount","viewCount"]);return t.posterImage&&delete _.posterImage,E(E(E({},t),_),{},{client:"web",tracks:[E(E(E({},p),v),{},{cta:g,durationMs:b,id:0,isLive:m,viewerCount:T,viewCount:I})],currentTrackId:0,source:E(E({},t.source),{},{trackId:0})})}),(function(e){throw new Error(e)}))}(this.httpClient,e,this.includeBroadcastEventAssociation):Promise.reject(p.a.MEDIA_TEARDOWN_ERROR)}}]),e}()},625:function(e,t,r){"use strict";r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(1),i=r.n(n),o=r(866);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={showControls:!0,promotedContext:{}};t.a={createPlayer:function(e){var t=e.domElement,r=e.source,n=e.videoConfig,i=e.httpClient,a=e.twitterAuthedHttpClient,u=e.options,l=void 0===u?{}:u;return new o.a({videoConfig:n,source:r,domElement:t,httpClient:i,twitterAuthedHttpClient:a,options:s(s({},c),l)})}}},627:function(e,t,r){"use strict";t.a={BROADCAST_EVENT_ASSOCIATION_UPDATED:"broadcastEventAssociationUpdated",FULLSCREEN_ENTERED:"fullscreenEntered",FULLSCREEN_EXITED:"fullscreenExited",HLSJS_INSTANTIATED:"hlsJsInstantiated",GEOBLOCK_ERROR:"geoblockError",LIVE_ENDED:"liveEnded",LIVE_STARTED:"liveStarted",LIVE_CLICKTHROUGH:"liveClickthrough",MUTE:"mute",NO_COOKIES_ERROR:"noCookiesError",PAUSE:"pause",PLAY:"play",PLAYBACK_COMPLETE:"playbackComplete",READY:"ready",UNMUTE:"unmute"}},628:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));r(320),r(23);var n=r(557);function i(e,t){var r=e.getState();if(r&&r.players&&r.players[t])return r.players[t]}var o=function(e){if(e&&"unavailable"===e.status)switch(e.reason){case"geoblocked":return n.a.MEDIA_GEOBLOCK_ERROR;case"deleted":return n.a.ORIGINAL_CONTEXT_DELETED;case"dmcaed":return n.a.DMCA_TAKEDOWN_ERROR;case"copyright_violation":return n.a.EUROPEAN_COPYRIGHT_VIOLATION}return null},a=function(e,t){var r=Object.keys(e).find((function(r){return t(e[r])}));return void 0!==r?e[r]:void 0}},629:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s}));var n="web_video_bitrate_persistence_enabled",i="web_video_hlsjs_version",o="web_video_hlsjs_worker_enabled",a="web_video_smart_buffering_enabled",s="web_video_smart_buffering_preroll_prebuffering_enabled"},639:function(e,t,r){"use strict";r.d(t,"a",(function(){return C})),r.d(t,"c",(function(){return D}));r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(1),i=r.n(n),o=(r(78),r(736)),a=r(569),s=r(34),c=r.n(s),u=r(61),l=r.n(u),d=r(38),f=r.n(d),p=(r(90),r(36),r(438),r(439),r(193),r(63),r(194),r(559)),h=r(576),v=r(555),y=r(600);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=function(e,t){if("object"!==c()(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c()(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c()(t)?t:String(t)}var O=function(e,t){e[t];return f()(e,[t].map(b))},m=function(e){var t=e.intentToPlayTime;return void 0===t?new Date:t},T={volume:1,areCaptionsShown:!1,hasCaptions:!1,hasPlaybackStarted:!1,intentToPlayTime:void 0,isMuted:!1,isPlaying:!1,isScrubbing:!1,controls:{isHidden:!0,isPosterShown:!0}},I=r(577),_=r(586),R=r(669);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=P(P(P(P(P(P(P(P(P({},o.a),a.a),T),p.d),I.b),_.a),R.b),h.a),{},{percentVisible:1,percentOfViewportOccupied:1,sizesInfo:{}}),A=[o.c,p.h,function(e,t){var r;switch(t.type){case p.c:return g(g({},e),{},{intentToPlayTime:t.intentToPlayTime});case v.p:case a.c:return e.isPlaying&&e.controls.playState!==v.k.PAUSE_REQUESTED?e:g(g({},e),{},{intentToPlayTime:m(e),controls:g(g({},e.controls),{},{playState:v.k.PLAY_REQUESTED})});case a.b:case v.o:case v.b:return e.isPlaying||e.controls.playState===v.k.PLAY_REQUESTED?g(g({},e),{},{controls:g(g({},e.controls),{},{playState:v.k.PAUSE_REQUESTED})}):e;case v.r:var n=Object(y.b)(e),i=Object(y.c)(e);return n&&"maxLoopCount"in n&&(n.loopCounter=0,n.shouldLoop=!0),g(g({},e),{},{intentToPlayTime:m(e),tracks:n?[].concat(l()(i),[g({},n)]):e.tracks,controls:g(g({},e.controls),{},{isReplayButtonShown:!1,playState:v.k.PLAY_REQUESTED})});case v.y:return r=O(e.controls,"playState"),e.controls.playState!==v.k.PLAY_REQUESTED&&(r.playState=e.controls.playState),r.isPosterShown=!1,g(g({},e),{},{controls:r,hasPlaybackStarted:!0,isPlaying:!0});case v.x:return r=O(e.controls,"playState"),e.controls.playState!==v.k.PAUSE_REQUESTED&&(r.playState=e.controls.playState),g(g({},e),{},{controls:r,isPlaying:!1});case v.n:return g(g({},e),{},{controls:g(g({},e.controls),{},{muteState:v.j.MUTE_REQUESTED})});case v.t:return r=g(g({},e.controls),{},{muteState:v.j.UNMUTE_REQUESTED}),0!==e.volume||e.controls.volume>0||(r.volume=1),g(g({},e),{},{controls:r});case v.u:return r=g(g({},e.controls),{},{volume:t.volume}),0!==t.volume||e.isMuted?t.volume>0&&e.isMuted&&(r.muteState=v.j.UNMUTE_REQUESTED):r.muteState=v.j.MUTE_REQUESTED,g(g({},e),{},{controls:r});case v.B:return r=O(O(e.controls,"muteState"),"volume"),e.controls.muteState!==v.j.MUTE_REQUESTED||t.isMuted?e.controls.muteState===v.j.UNMUTE_REQUESTED&&t.isMuted&&(r.muteState=v.j.UNMUTE_REQUESTED):r.muteState=v.j.MUTE_REQUESTED,t.volume!==e.controls.volume&&(r.volume=e.controls.volume),g(g({},e),{},{controls:r,volume:t.volume,isMuted:t.isMuted});case v.s:return g(g({},e),{},{isScrubbing:!0,controls:g(g({},e.controls),{},{scrubToFraction:t.fraction})});case v.q:var o=t.startTimeS,s=t.endTimeS;return g(g({},e),{},{controls:g(g({},e.controls),{},{playbackTimeRange:{startTimeS:o,endTimeS:s}})});case v.z:return r=O(e.controls,"scrubToFraction"),g(g({},e),{},{isScrubbing:!1,controls:r});case v.d:return r=O(e.controls,"playbackTimeRange"),g(g({},e),{},{controls:r});case v.A:return g(g({},e),{},{isScrubbing:!0});case v.h:return g(g({},e),{},{controls:g(g({},e.controls),{},{isHidden:!0})});case v.v:return g(g({},e),{},{controls:g(g({},e.controls),{},{isHidden:!1})});case v.m:return g(g({},e),{},{userSpecifiedCaptions:t.isUserSet,controls:g(g({},e.controls),{},{captionsState:v.f.CAPTIONS_ON_REQUESTED})});case v.l:return g(g({},e),{},{userSpecifiedCaptions:t.isUserSet,controls:g(g({},e.controls),{},{captionsState:v.f.CAPTIONS_OFF_REQUESTED})});case v.e:return r=O(e.controls,"captionsState"),g(g({},e),{},{areCaptionsShown:t.areCaptionsShown,controls:r});case h.f:var c=g({},e),u=Object(y.b)(e),d=Object(y.c)(e);u&&"maxLoopCount"in u&&(u.loopCounter>=u.maxLoopCount-1?u.shouldLoop=!1:u.loopCounter+=1,c.tracks=[].concat(l()(d),[g({},u)]));var f=(u||{}).shouldLoop;return 0===e.nextTrackIds.length&&(e.isPreview?c.controls=g(g({},e.controls),{},{isPosterShown:!f}):c.controls=g(g({},e.controls),{},{isHidden:f,isReplayButtonShown:!f,playState:f?void 0:v.k.PAUSE_REQUESTED})),c;case v.w:return g(g({},e),{},{percentVisible:t.percentVisible,percentOfViewportOccupied:t.percentOfViewportOccupied,sizesInfo:t.sizesInfo||{}});case v.a:r=O(e.controls,"playState"),e.controls.playState!==v.k.PLAY_REQUESTED&&(r.playState=e.controls.playState);var E=Object(y.b)(e),b=Object(y.c)(e);return g(g({},e),{},{controls:g(g({},r),{},{isPosterShown:!0}),tracks:[].concat(l()(b),[g(g({},E),{},{isBuffering:!1})])});case v.g:var T=void 0===e.dataUsageBytes?t.bytes:e.dataUsageBytes+t.bytes;return g(g({},e),{},{dataUsageBytes:T});case v.i:var I=e.liveClickthroughClicked||0;return g(g({},e),{},{liveClickthroughClicked:1+I});default:return e}},h.j,a.d,I.e,_.e,R.e],C="TEARDOWN_PLAYER",D=function(e){return{type:C,playerId:e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return r.reduce((function(e,r){return r(e,t)}),e)};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;if(void 0!==t.playerId){if(t.type===C){var n=P({},e);return delete n[t.playerId],n}var o=e[t.playerId];if(t.type===p.e){if(!o)return e;o=P(P({},w),{},{errorInfo:o.errorInfo,features:o.features})}var a=j(o,t,r);if(void 0!==a)return P(P({},e),{},i()({},t.playerId,a))}return e}},664:function(e,t,r){"use strict";var n=r(2),i=r.n(n),o=r(0),a=r(865),s=r(556),c=r(671),u=function(e){var t=e.poster;return o.createElement(s.b,i()({},e,{basePlayerClass:a.a}),(function(e){var r=e.guestsState,n=e.playerApi,i=e.playerState,a=e.containerRef;return o.createElement(c.a,{containerRef:a,guestsState:r,playerApi:n,playerState:i,poster:t})}))};u.defaultProps={size:"small"},t.a=u},665:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));r(56),r(23),r(42),r(28),r(37),r(15),r(18),r(43),r(438),r(439),r(193),r(194);var n=r(34),i=r.n(n),o=r(38),a=r.n(o),s=r(3),c=r.n(s),u=r(4),l=r.n(u),d=r(6),f=r.n(d),p=r(16),h=r.n(p),v=r(19),y=r.n(v),E=r(10),g=r.n(E),b=r(1),O=r.n(b),m=(r(36),r(321),r(63),r(90),r(0));function T(e){var t=function(e,t){if("object"!==i()(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i()(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i()(t)?t:String(t)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y()(this,r)}}var S=function(e){h()(r,e);var t=R(r);function r(){var e;c()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),O()(f()(e),"state",{playerApi:void 0,playerState:void 0,guestsState:void 0}),O()(f()(e),"_initializeState",(function(t){t&&(e._unsubscribe&&e._unsubscribe(),e.setState({playerApi:t}),e._unsubscribe=t.subscribe((function(t,r){return e.setState({playerState:t,guestsState:r})})))})),e}return l()(r,[{key:"componentDidMount",value:function(){this._initializeState(this.props.playerApi)}},{key:"componentDidUpdate",value:function(e){var t=this.props.playerApi;t!==e.playerApi&&this._initializeState(t)}},{key:"render",value:function(){return this.props.children(this.state)}}]),r}(m.Component),P=function(e){h()(r,e);var t=R(r);function r(){var e;c()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),O()(f()(e),"state",{players:{}}),O()(f()(e),"_mounted",!1),O()(f()(e),"_registerPlayer",(function(t,r){var n=new Promise((function(n){setTimeout((function(){e._mounted?e.setState((function(e){return{players:_(_({},e.players),{},O()({},t,r))}}),n):n()}))}));return function(){n.then((function(){return e._unregisterPlayer(t)}))}})),O()(f()(e),"_unregisterPlayer",(function(t){e._mounted&&e.setState((function(r){var n=e.state.players;n[t];return{players:a()(n,[t].map(T))}}))})),O()(f()(e),"_registrationContext",{registerPlayer:e._registerPlayer}),e}return l()(r,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){return m.createElement(r.RegistrationContext.Provider,{value:this._registrationContext},m.createElement(r.ProviderContext.Provider,{value:this.state},this.props.children))}}]),r}(m.Component);O()(P,"MetadataSubscriber",(function(e){var t=e.playerId,r=e.children;return m.createElement(P.ProviderContext.Consumer,null,(function(e){var n=e.players;return m.createElement(S,{playerApi:n&&n[t]},r)}))})),O()(P,"RegistrationContext",m.createContext({registerPlayer:void 0})),O()(P,"ProviderContext",m.createContext({players:{}}))},666:function(e,t,r){"use strict";var n=r(729);t.__esModule=!0,t.default=void 0;var i=r(730);t.updateAudioLevels=i.updateAudioLevels;var o=r(731);t.updateGuestInfo=o.updateGuestInfo;var a=n(r(870));t.hydraMiddleware=a.default,t.registerExperience=a.registerExperience;var s=n(r(732));t.resetGuestState=s.resetGuestState,t.teardownExperience=s.teardownExperience;var c=s.default;t.default=c},667:function(e,t,r){var n=r(9),i=r(448);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},668:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o}));r(65);var n=function(){var e=window.navigator;return 0===e.vendor.indexOf("Apple")&&/\sSafari\//.test(e.userAgent)},i=function(){var e=window.navigator;return n()&&/iPad|iPhone/.test(e.userAgent)},o=function(){return n()&&!i()}},669:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"g",(function(){return p})),r.d(t,"h",(function(){return h})),r.d(t,"b",(function(){return v}));r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(1),i=r.n(n),o=r(576),a=r(629);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={IDLE:"IDLE",BUFFERING_REQUESTED:"BUFFERING_REQUESTED",PREBUFFERING_COMPLETED:"PREBUFFERING_COMPLETED",BUFFERING_COMPLETED:"BUFFERING_COMPLETED"},l="SET_BUFFERING_STATUS",d=function(e,t,r){return{type:l,playerId:e,bufferingStatus:t,maximumBufferLength:r}},f="SET_TARGET_DURATION",p=function(e,t){return{type:f,targetDuration:t,playerId:e}},h=function(e,t){return{type:"UPDATE_BUFFER_LENGTH",maximumBufferLength:t,playerId:e}};t.e=function(e,t){switch(t.type){case o.b:var r,n,i=null==e||null===(r=e.features)||void 0===r?void 0:r[a.d],s=null==e||null===(n=e.features)||void 0===n?void 0:n[a.e];if(!i&&!s)return e;if(!i&&s)return c(c({},e),{},{maximumBufferLength:void 0,targetDuration:void 0});var d=void 0===e.bufferingStatus?u.IDLE:e.bufferingStatus;return c(c({},e),{},{bufferingStatus:d,maximumBufferLength:void 0,targetDuration:void 0});case l:return c(c({},e),{},{bufferingStatus:t.bufferingStatus,maximumBufferLength:void 0!==t.maximumBufferLength?t.maximumBufferLength:e.maximumBufferLength});case"UPDATE_BUFFER_LENGTH":var p;return t.maximumBufferLength===e.maximumBufferLength?e:c(c({},e),{},{bufferingStatus:null!=e&&null!==(p=e.features)&&void 0!==p&&p[a.d]?u.BUFFERING_REQUESTED:void 0,maximumBufferLength:t.maximumBufferLength});case f:return c(c({},e),{},{targetDuration:t.targetDuration});default:return e}};var v={bufferingStatus:void 0,maximumBufferLength:void 0,targetDuration:void 0}},670:function(e,t,r){"use strict";r.d(t,"b",(function(){return s}));var n=r(1),i=r.n(n),o=r(559),a=r(578),s=function(e,t){return{feature:t,playerId:e,type:"GET_FEATURE_VALUE"}};t.a=function(e){return function(t){return function(r){if("GET_FEATURE_VALUE"===r.type){var n,s=r.feature,c=r.playerId,u=Object(a.a)(c);return u&&u.getValue&&(n=u.getValue(s),e.dispatch(Object(o.i)(c,i()({},s,n)))),n}return t(r)}}}},671:function(e,t,r){"use strict";r(321),r(63);var n=r(0),i=r(159),o=Object(i.a)({loader:function(){return r.e(54).then(r.bind(null,902))},renderPlaceholder:function(){return n.createElement("div",null)}});t.a=o},722:function(e,t,r){var n=r(60),i=Date.prototype,o=i.toString,a=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(i,"toString",(function(){var e=a.call(this);return e==e?o.call(this):"Invalid Date"}))},723:function(e,t,r){r(9)({target:"Array",stat:!0},{isArray:r(128)})},729:function(e,t,r){var n=r(34).default;function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r},e.exports.default=e.exports,e.exports.__esModule=!0},730:function(e,t,r){"use strict";r(103),r(667),t.__esModule=!0,t.default=t.InitialState=t.updateAudioLevels=t.UPDATE_AUDIO_LEVELS=void 0;t.UPDATE_AUDIO_LEVELS="UPDATE_AUDIO_LEVELS";t.updateAudioLevels=function(e,t){return{type:"UPDATE_AUDIO_LEVELS",audioLevels:t,experienceId:e}};var n={guests:{},host:0};t.InitialState=n;t.default=function(e,t){switch(void 0===e&&(e=n),t.type){case"UPDATE_AUDIO_LEVELS":for(var r=t.audioLevels,i=r[0],o=r.slice(1),a={},s=0;s<o.length;s++)a[s]=o[s];return Object.assign({},e,{guests:a,host:i});default:return e}}},731:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.updateGuestInfo=t.UPDATE_GUEST_INFO=void 0;t.UPDATE_GUEST_INFO="UPDATE_GUEST_INFO";t.updateGuestInfo=function(e,t){return{type:"UPDATE_GUEST_INFO",guestInfo:t,experienceId:e}};t.default=function(e,t){switch(void 0===e&&(e={}),t.type){case"UPDATE_GUEST_INFO":for(var r=t.guestInfo,n={},i=0;i<r.length;i++){var o=r[i],a=o.ParticipantIndex,s=o.ProfileUrl,c=o.SessionId,u=o.StreamName,l=o.UserId,d=o.UserName;n[i]={ParticipantIndex:a,ProfileUrl:s,SessionId:c,StreamName:u,UserId:l,UserName:d}}return n;default:return e}}},732:function(e,t,r){"use strict";var n=r(729),i=r(11);r(667),t.__esModule=!0,t.default=t.resetGuestState=t.RESET_GUEST_STATE=t.teardownExperience=t.TEARDOWN_EXPERIENCE=t.initializeExperience=t.INITIALIZE_EXPERIENCE=void 0;var o=r(874),a=i(r(731)),s=n(r(730));t.INITIALIZE_EXPERIENCE="INITIALIZE_EXPERIENCE";t.initializeExperience=function(e){return{type:"INITIALIZE_EXPERIENCE",experienceId:e}};t.TEARDOWN_EXPERIENCE="TEARDOWN_EXPERIENCE";t.teardownExperience=function(e){return{type:"TEARDOWN_EXPERIENCE",experienceId:e}};t.RESET_GUEST_STATE="RESET_GUEST_STATE";t.resetGuestState=function(e){return{type:"RESET_GUEST_STATE",experienceId:e}};var c={audioLevels:s.InitialState,guests:{}},u=(0,o.combineReducers)({audioLevels:s.default,guests:a.default});t.default=function(e,t,r){var n;if(void 0===e&&(e={}),void 0===r&&(r=u),void 0!==t.experienceId)switch(t.type){case"INITIALIZE_EXPERIENCE":case"RESET_GUEST_STATE":return Object.assign({},e,((n={})[t.experienceId]=c,n));case"TEARDOWN_EXPERIENCE":var i=Object.assign({},e);return delete i[t.experienceId],i;default:var o,a=r(e[t.experienceId],t);return Object.assign({},e,((o={})[t.experienceId]=a,o))}return e}},733:function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"c",(function(){return g}));var n,i=r(34),o=r.n(i),a=r(1),s=r.n(a),c=(r(15),r(18),r(320),r(559)),u=r(557),l=r(627),d=r(577),f=r(586),p=r(576),h=r(555),v=(n={},s()(n,p.b,l.a.HLSJS_INSTANTIATED),s()(n,p.d,l.a.READY),s()(n,p.f,l.a.PLAYBACK_COMPLETE),s()(n,h.x,l.a.PAUSE),s()(n,h.y,l.a.PLAY),n),y={},E=function(e,t,r){void 0===y[e]&&(y[e]={}),void 0===y[e][t]&&(y[e][t]=[]),y[e][t].push(r)},g=function(e){delete y[e]};t.b=function(e){return function(t){return function(r){var n,i,a=r.playerId,s=r.type,p=e.getState().players[a],E=t(r),g=e.getState().players[a];if(a in y){var b=p.tracks.find((function(e){return"content"===e.displayType})),O=g.tracks.find((function(e){return"content"===e.displayType}));switch(s){case d.c:r.thrownError.message===u.a.LIVE_VIDEO_GEOBLOCK_ERROR?n=l.a.GEOBLOCK_ERROR:r.thrownError.message===u.a.LIVE_VIDEO_NO_COOKIES_ERROR&&(n=l.a.NO_COOKIES_ERROR);break;case h.B:!p.isMuted&&g.isMuted?n=l.a.MUTE:p.isMuted&&!g.isMuted&&(n=l.a.UNMUTE);break;case c.a:if(void 0!==b&&void 0!==O&&(b.isLive&&!O.isLive?n=l.a.LIVE_ENDED:!b.isLive&&O.isLive&&(n=l.a.LIVE_STARTED)),!n&&(p.eventTitle!==g.eventTitle||p.eventDescription!==g.eventDescription||p.eventUrl!==g.eventUrl)){var m=g.eventTitle,T=g.eventDescription,I=g.eventUrl;n=l.a.BROADCAST_EVENT_ASSOCIATION_UPDATED,i={eventTitle:m,eventDescription:T,eventUrl:I}}break;case h.i:p.liveClickthroughClicked!==g.liveClickthroughClicked&&(n=l.a.LIVE_CLICKTHROUGH);break;case f.d:var _=p.fullscreen.isFullscreen,R=g.fullscreen.isFullscreen;!_&&R?n=l.a.FULLSCREEN_ENTERED:_&&!R&&(n=l.a.FULLSCREEN_EXITED);break;default:n=v[s]}!function(e,t,r){t in y[e]&&o()(y[e][t])&&y[e][t].forEach((function(e){"function"==typeof e&&e(r)}))}(a,n,i),n===l.a.READY&&function(e,t){t in y[e]&&delete y[e][t]}(a,n)}return E}}}},734:function(e,t,r){var n=r(442),i=r(440),o=r(339),a=r(443);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},735:function(e,t,r){"use strict";var n=r(3),i=r.n(n),o=r(1),a=r.n(o),s=(r(36),r(115),r(333),r(63),r(92),r(93),r(116),function e(t){var r=this;i()(this,e),a()(this,"clearLogs",(function(){try{window.sessionStorage.removeItem(r.storageKey)}catch(e){}})),a()(this,"log",(function(t,n){if(e.debuggingEnabled){var i="".concat(t,": ").concat(n);r.logItemInSessionStorage(i)}})),a()(this,"logItemInSessionStorage",(function(e){try{var t=window.sessionStorage.getItem(r.storageKey),n=t?JSON.parse(t):[];n.push(e),window.sessionStorage.setItem(r.storageKey,JSON.stringify(n))}catch(e){}})),this.storageKey=e.generateStorageKey(t),this.clearLogs()});a()(s,"debuggingEnabled",!1),a()(s,"generateStorageKey",(function(e){return"".concat("TwitterVideoPlayerDebugLog",":").concat(e)})),a()(s,"getDebugFileLink",(function(e){var t=window.sessionStorage.getItem(s.generateStorageKey(e)),r=new window.Blob([JSON.parse(t).join("\n")],{type:"application/octet-stream"});return window.URL.createObjectURL(r)})),t.a=s},736:function(e,t,r){"use strict";r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(61),i=r.n(n),o=r(1),a=r.n(o),s=(r(320),r(65),r(36),r(569)),c=r(555);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e,t,r){return function(n){var i=t();n(f(e,i)),n(r?Object(s.f)(e):Object(c.O)(e))}},f=function(e,t){return{type:"AD_LOADED",playerId:e,adResponse:t}};t.c=function(e,t){switch(t.type){case"AD_LOADED":var r=e.tracks,n=t.adResponse;if(void 0===n.mediaInfo)return l(l({},e),{},{adLoaded:!0});var o=n.mediaInfo.variants.find((function(e){return 0===e.content_type.indexOf("application/x-mpegURL")}));if(void 0===o)return l(l({},e),{},{adLoaded:!0});var a,s=n.promotedContent||{};return n.mediaInfo.call_to_action&&(a={type:n.mediaInfo.call_to_action.type,url:n.mediaInfo.call_to_action.url}),l(l({},e),{},{currentTrackId:1,nextTrackIds:[0],tracks:[].concat(i()(r),[{id:1,displayType:"ad",cta:a,contentId:n.adId,contentType:"media_entity",publisherId:n.mediaInfo.publisher_id_str,durationMs:n.mediaInfo.duration_millis,shouldLoop:!1,shouldAutoAdvance:n.shouldAutoAdvance,impressionId:s.impressionId,disclosureType:s.disclosureType,dynamicPrerollType:n.dynamicPrerollType,rotation:0,variants:[{src:o.url,type:o.content_type}],currentVariantIndex:0,advertiserName:n.advertiserName,advertiserProfileImageUrl:n.advertiserProfileImageUrl,useRedesignedPrerollUx:n.useRedesignedPrerollUx}]),videoAnalyticsScribePassthrough:n.videoAnalyticsScribePassthrough,adLoaded:!0});default:return e}};var p={adLoaded:!1}},737:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){}},i=function(e,t){try{return window.localStorage.getItem(e)}catch(e){return t}}},738:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(1),i=r.n(n);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(e){return{type:"BANDWIDTH_ESTIMATE",bandwidthEstimate:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BANDWIDTH_ESTIMATE":return a(a({},e),{},{mostRecentBandwidthEst:t.bandwidthEstimate});default:return e}}},751:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));r(23),r(42),r(28),r(37),r(15),r(18),r(43);var n=r(1),i=r.n(n),o=r(0),a=r(24),s=r(323),c=r(113),u=r.n(c),l=r(546),d=r(547),f=r(79);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.a)("svg",h(h({},e),{},{style:[d.a.root,e.style],viewBox:"0 0 24 24"}),l.createElement("g",null,l.createElement("path",{d:"M15.644 11.58L10.43 8.26c-.155-.1-.35-.105-.51-.018-.16.088-.26.256-.26.438v6.64c0 .183.1.35.26.438.074.04.157.062.24.062.093 0 .187-.026.27-.078l5.214-3.32c.144-.09.23-.25.23-.42s-.086-.332-.23-.423zM2.5 22.25c-.192 0-.384-.073-.53-.22-.293-.293-.293-.768 0-1.06l5.25-5.25c.293-.294.768-.294 1.06 0s.294.767 0 1.06l-5.25 5.25c-.146.147-.338.22-.53.22zM15.208 9.542c-.192 0-.384-.073-.53-.22-.293-.293-.293-.768 0-1.06L20.97 1.97c.293-.293.768-.293 1.06 0s.294.768 0 1.06l-6.29 6.293c-.148.146-.34.22-.532.22z"}),l.createElement("path",{d:"M3.815 17.062c-.27 0-.53-.146-.664-.4C2.4 15.236 2 13.623 2 12 2 6.486 6.486 2 12 2c1.592 0 3.176.384 4.582 1.11.368.188.512.64.322 1.01-.19.368-.643.515-1.01.32-1.21-.624-2.52-.94-3.894-.94-4.687 0-8.5 3.813-8.5 8.5 0 1.38.338 2.75.978 3.96.193.367.053.82-.313 1.015-.112.06-.232.087-.35.087zM12 22c-1.59 0-3.175-.384-4.58-1.11-.37-.188-.513-.64-.323-1.01.19-.366.644-.514 1.01-.32 1.21.624 2.52.94 3.893.94 4.687 0 8.5-3.813 8.5-8.5 0-1.364-.33-2.72-.957-3.922-.19-.367-.05-.82.318-1.012.37-.19.82-.05 1.013.318C21.61 8.8 22 10.396 22 12c0 5.514-4.486 10-10 10z"})))};v.metadata={width:24,height:24};var y=v,E=r(5),g=r(325),b=r(32);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=u.a.a9edea48;function I(e){var t=e.displayBackgroundImage,r=void 0!==t&&t,n=e.errorMessage,i=e.iconPlayError,c=e.imageSrc,u=e.onReloadPress;return o.createElement(b.a,{style:[E.a.absoluteFill,r?null:_.blankOverlay]},r?o.createElement(o.Fragment,null,o.createElement(b.a,{style:_.backgroundImage},c&&o.createElement(g.a,{resizeMode:"cover",source:c,style:E.a.absoluteFill})),o.createElement(b.a,{style:_.overlay})):null,o.createElement(b.a,{style:_.errorContainer},o.createElement(b.a,null,i?o.createElement(y,{style:_.playErrorIcon}):null),o.createElement(b.a,{focusable:!0},o.createElement(a.c,{style:r?_.errorMsgTextWhite:_.errorMsgTextGray},n)),u?o.createElement(s.a,{onPress:u,style:_.buttonContainer,type:"primary"},T):null))}var _=E.a.create((function(e){return{backgroundImage:m(m({},E.a.absoluteFillObject),{},{filter:"blur(5px)"}),overlay:m(m({},E.a.absoluteFillObject),{},{backgroundColor:e.colors.translucentBlack77}),blankOverlay:{backgroundColor:e.colors.gray0},buttonContainer:{justifyContent:"center",alignSelf:"center"},errorContainer:{justifyContent:"center",height:"100%",marginHorizontal:e.spaces.space32},errorMsgTextWhite:{color:e.colors.white,textAlign:"center",marginBottom:e.spaces.space20},errorMsgTextGray:{color:e.colors.gray600,textAlign:"center",marginBottom:e.spaces.space20},playErrorIcon:{fill:e.colors.gray600,height:e.spaces.space48,width:e.spaces.space48,marginHorizontal:"auto",paddingBottom:e.spaces.space20,textAlignVertical:"middle"}}}))},865:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=r(904).a},866:function(e,t,r){"use strict";(function(e){r(42),r(28),r(37),r(43);var n=r(3),i=r.n(n),o=r(4),a=r.n(o),s=r(1),c=r.n(s),u=(r(15),r(18),r(65),r(321),r(63),r(23),r(555)),l=r(557),d=r(627),f=r(600),p=r(881),h=r(735),v=r(576),y=r(561),E=r(577),g=r(879),b=r(880),O=r(599),m=r(901),T=r(639),I=r(867),_=r.n(I),R=r(903),S=r(733),P=r(559),w=r(578),A=r(569),C=r(666),D=r(586);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(){function t(r){var n=this,o=r.source,a=void 0===o?{}:o,s=r.videoConfig,l=r.domElement,I=r.httpClient,R=r.twitterAuthedHttpClient,j=r.options,L=void 0===j?{}:j;i()(this,t),c()(this,"teardown",(function(){n.broadcastUpdater&&n.broadcastUpdater.cancelUpdate(),n.unsubscribeCalls.forEach((function(e){e()})),n.unsubscribeCalls=[],Object(S.c)(n.id),n.source=void 0,n.session=void 0,void 0!==n.hydraExperienceId&&m.a.dispatch(Object(C.teardownExperience)(n.hydraExperienceId)),n.video&&n.video.teardown(),m.a.dispatch(Object(T.c)(n.id)),Object(w.h)(n.id),n.logger.clearLogs(),n.rejectPlayerReadyPromise()})),c()(this,"play",(function(){return n.initiallyMuted?n.playPreview():n.playerReadyPromise.then((function(){n._dispatch(u.O(n.id))})),n})),c()(this,"pause",(function(){return n.playerReadyPromise.then((function(){n._dispatch(u.N(n.id))})),n})),c()(this,"replay",(function(){return n.playerReadyPromise.then((function(){n._dispatch(u.Q(n.id))})),n})),c()(this,"mute",(function(){return n.playerReadyPromise.then((function(){n._dispatch(u.M(n.id))})),n})),c()(this,"unmute",(function(){return n.playerReadyPromise.then((function(){n._dispatch(u.S(n.id))})),n})),c()(this,"scrubToFraction",(function(e){return n.playerReadyPromise.then((function(){n._dispatch(u.R(n.id,e))})),n})),c()(this,"setVolume",(function(e){return n.playerReadyPromise.then((function(){n._dispatch(u.T(n.id,e))})),n})),c()(this,"setPlaybackTimeRange",(function(e){var t=e.startTimeS,r=e.endTimeS;return n.playerReadyPromise.then((function(){t<=0&&r>=n.video.getVideoTag().duration?n._dispatch(u.F(n.id)):n._dispatch(u.P(n.id,t,r))})),n})),c()(this,"fullScreen",(function(e){var t=e||n.domElement;return m.a.dispatch(Object(D.f)(n.id,t,n.video.getVideoTag())),n})),c()(this,"exitFullScreen",(function(){return m.a.dispatch(Object(D.g)(n.id)),n})),c()(this,"hideControls",(function(){return n.playerReadyPromise.then((function(){n._dispatch(u.I(n.id))})),n})),c()(this,"showControls",(function(){return n.playerReadyPromise.then((function(){n._dispatch(u.U(n.id))})),n})),c()(this,"playPreview",(function(){return n.playerReadyPromise.then((function(){n._dispatch(Object(A.f)(n.id)),n.initiallyMuted&&(n.initiallyMuted=!1)})),n})),c()(this,"pausePreview",(function(){return n.playerReadyPromise.then((function(){n._dispatch(Object(A.e)(n.id))})),n})),c()(this,"objectFitVideo",(function(e){return-1!==y.c.indexOf(e)&&n.video&&(n.video.objectFitVideo=e),n})),c()(this,"toggleCaptions",(function(){return n.playerReadyPromise.then((function(){var e=m.a.getState(),t=e&&e.players&&e.players[n.id],r=!(!t||!t.areCaptionsShown);n._dispatch(r?u.K(n.id,!0):u.L(n.id,!0))})),n})),c()(this,"nextTrack",(function(){return n.playerReadyPromise.then((function(){n._dispatch(Object(v.n)(n.id))})),n})),c()(this,"triggerError",(function(e){var t=new Error(e||"synthetic");return m.a.dispatch(Object(E.h)(n.id,t)),n})),c()(this,"reload",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requestedTimecode,r=e.autoPlay,i=void 0!==r&&r;n.playerReadyPromise=new Promise((function(e,t){n.resolvePlayerReadyPromise=e,n.rejectPlayerReadyPromise=t})).catch((function(){}));var o=m.a.getState()||{players:{}},a=o.players[n.id],s=-1;if(a){if(void 0!==t)n.playerOptions.requestedTimecode=t;else if(0===a.currentTrackId){var c=Object(f.b)(a);s=c.currentTimeMs/1e3}var l=a.isPreview,d=a.isPlaying,p=a.isMuted,h=d||i;n.playerReadyPromise.then((function(){l?h?n._dispatch(Object(A.f)(n.id)):n._dispatch(Object(A.e)(n.id)):(h&&n._dispatch(u.O(n.id)),p&&n._dispatch(u.M(n.id)))}))}return n.video&&n.video.teardownPlayer(),m.a.dispatch(n._reloadPlayer(n.id,n.source,n.videoConfig,n.session,n.resolvePlayerReadyPromise,n.rejectPlayerReadyPromise,k(k({},n.playerOptions),{},{reloadTimecode:s}),n.logger)),n})),c()(this,"on",(function(e,t){return Object.keys(d.a).forEach((function(r){d.a[r]===e&&Object(S.a)(n.id,e,t)})),n})),c()(this,"updatePosition",(function(e){var t=e.percentVisible,r=e.percentOfViewportOccupied,i=e.sizesInfo;return n.playerReadyPromise.then((function(){n._dispatch(u.V(n.id,t,r,i))})),n})),c()(this,"callToActionClicked",(function(){return n.playerReadyPromise.then((function(){n._dispatch(u.D(n.id))})),n})),c()(this,"callToActionImpression",(function(){return n.playerReadyPromise.then((function(){n._dispatch(u.E(n.id))})),n})),c()(this,"liveClickthroughClicked",(function(){return n.playerReadyPromise.then((function(){n._dispatch(u.J(n.id))})),n})),c()(this,"subscribe",(function(e){var t=m.a.getState(),r=n._getPlayerState(t),i=n._getHydraState(t),o=m.a.subscribe((function(){var t=m.a.getState(),o=n._getPlayerState(t),a=n._getHydraState(t);void 0!==o&&(r!==o||i!==a)&&(r=o,i=a,e(o,a))}));return n.unsubscribeCalls.push(o),o})),c()(this,"onStoreUpdate",(function(e){var t=Object(f.b)(e),r="ad"===(null==t?void 0:t.displayType),i=e.errorInfo,o=i.adFailed,a=i.autoRetry,s=i.backoffMs,c=r&&o&&!1!==t.shouldAutoAdvance;(a||c)&&setTimeout((function(){n.reload()}),(c?0:s)||0)})),this.id=t.id,t.id+=1,this.unsubscribeCalls=[],this.source=a,this.videoConfig=s,this.session={id:_()()},this.playbackSessionId=L.playbackSessionId,this.initiallyMuted=L.initiallyMuted,this._reloadPlayer=P.j,this.playerReadyPromise=new Promise((function(e,t){n.resolvePlayerReadyPromise=e,n.rejectPlayerReadyPromise=t})).then(Promise.resolve()).catch((function(){})),L.autoplay&&this.play(),this.logger=new h.a(this.id),e.env.VIDEO_PLAYER_DEBUG&&(h.a.debuggingEnabled=!0),Object(w.f)(this.id,new g.a(new b.a(I)),new g.a(new b.a(R||I)),this.logger,new p.a,L.featureProvider),this.subscribe(this.onStoreUpdate),this.source.type!==O.a.BROADCAST&&this.source.type!==O.a.STATIC_BROADCAST||(this.hydraExperienceId=L.hydraExperienceId=m.a.dispatch(Object(C.registerExperience)())),this.options=L;var N=-1,U=this.playbackSessionId?Object(w.g)(this.playbackSessionId):void 0;U&&(this.options.videoEl=L.videoEl||U.videoEl,N=U.reloadTimecode);var M=this.options,x=M.bitrateCap,F=M.featureProvider,V=M.includeBroadcastEventAssociation,B=M.initiallyMutedCaptions,G=M.intentToPlayTime,H=M.maxLoopCount,J=M.promotedContext,K=M.requestedTimecode,W=M.showGeolocationPrompt;this.playerOptions={bitrateCap:x,featureProvider:F,includeBroadcastEventAssociation:V,initiallyMutedCaptions:B,intentToPlayTime:G,maxLoopCount:H,promotedContext:J,reloadTimecode:N,requestedTimecode:K,showGeolocationPrompt:W},m.a.dispatch(Object(P.g)(this.id,a,s,this.session,L.analytics,L.adProvider,this.resolvePlayerReadyPromise,this.rejectPlayerReadyPromise,this.playerOptions,this.logger)).then((function(e){n.broadcastUpdater=e})),l&&this.attach(l)}return a()(t,[{key:"attach",value:function(e){this.video||(this.domElement=e,this.video=new R.a(this.domElement,this.id,m.a,this.reload,this.logger,this.options))}},{key:"_getPlayerState",value:function(e){if(e.players)return e.players[this.id]}},{key:"_getHydraState",value:function(e){if(void 0!==this.hydraExperienceId&&e.hydraExperiences)return e.hydraExperiences[this.hydraExperienceId]}},{key:"_dispatch",value:function(e){var t=m.a.getState();this._getPlayerState(t)?m.a.dispatch(e):this.triggerError(l.a.MEDIA_TEARDOWN_ERROR)}}]),t}();c()(L,"id",0),t.a=L}).call(this,r(626))},867:function(e,t,r){var n=r(868),i=r(869);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},868:function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},869:function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},870:function(e,t,r){"use strict";var n=r(11);r(90),r(194),r(871),r(873),r(23),t.__esModule=!0,t.default=t.registerExperience=t.REGISTER_EXPERIENCE=void 0;var i=n(r(61)),o=r(732);t.REGISTER_EXPERIENCE="REGISTER_EXPERIENCE";t.registerExperience=function(){return{type:"REGISTER_EXPERIENCE"}};t.default=function(e){return function(t){return function(r){switch(r.type){case"REGISTER_EXPERIENCE":var n=e.getState(),a=Object.keys(n.hydraExperiences||{}).map((function(e){return Number.parseInt(e,10)})),s=Math.max.apply(Math,(0,i.default)(a))+1;return Number.isFinite(s)||(s=0),e.dispatch((0,o.initializeExperience)(s)),s;default:return t(r)}}}}},871:function(e,t,r){r(9)({target:"Number",stat:!0},{isFinite:r(872)})},872:function(e,t,r){var n=r(14).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},873:function(e,t,r){var n=r(9),i=r(446);n({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},874:function(e,t,r){"use strict";r(78),r(23),t.__esModule=!0,t.combineReducers=void 0;t.combineReducers=function(e){return function(t,r){return Object.keys(e).reduce((function(n,i){return n[i]=e[i](t[i],r),n}),{})}}},875:function(e,t,r){"use strict";(function(e,n){var i,o=r(877);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(o.a)(i);t.a=a}).call(this,r(155),r(876)(e))},876:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},877:function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},878:function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(155))},879:function(e,t,r){"use strict";var n=r(3),i=r.n(n),o=r(4),a=r.n(o),s=(r(36),r(601)),c={},u=function(){function e(t){i()(this,e),this.httpClient=t}return a()(e,[{key:"dispatch",value:function(e){if("get"===e.method.toLowerCase()){var t=e.params?Object(s.b)(e.params):"",r=t?"?".concat(t):"",n="".concat(e.host).concat(e.path).concat(r);return c[n]||(c[n]=this.httpClient.dispatch(e).then((function(e){return delete c[n],e})).catch((function(e){throw delete c[n],e}))),c[n]}return this.httpClient.dispatch(e)}}]),e}();t.a=u},880:function(e,t,r){"use strict";var n=r(3),i=r.n(n),o=r(4),a=r.n(o),s=(r(321),r(63),function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;i()(this,e),this.httpClient=t,this.backOffMSec=r}return a()(e,[{key:"dispatch",value:function(e){var t=this;return new Promise((function(r,n){t._dispatchOnce(0,r,n,e)}))}},{key:"_dispatchOnce",value:function(e,t,r,n){var i=this;this.httpClient.dispatch(n).then((function(o){i._handleResponse(e,t,r,n,o)})).catch((function(o){i._handleReject(e,t,r,n,o)}))}},{key:"_handleResponse",value:function(e,t,r,n,i){var o=this,a=!1;switch(i.status){case 404:case 425:case 429:case 500:case 502:case 503:case 504:case 508:a=!0}!a||e>=3?t(i):setTimeout((function(){o._dispatchOnce(e+1,t,r,n)}),this._backOffMSec(e))}},{key:"_handleReject",value:function(e,t,r,n,i){var o=this;e>=3?r(i):setTimeout((function(){o._dispatchOnce(e+1,t,r,n)}),this._backOffMSec(e))}},{key:"_backOffMSec",value:function(e){var t=this.backOffMSec,r=Math.pow(3,e)*t;return t+Math.random()*(r-t)}}]),e}());t.a=s},881:function(e,t,r){"use strict";var n=r(3),i=r.n(n),o=r(4),a=r.n(o),s=function(){function e(){i()(this,e),this.byteAccumulator=0}return a()(e,[{key:"add",value:function(e){this.byteAccumulator+=e}},{key:"getAndReset",value:function(){var e=this.byteAccumulator;return this.byteAccumulator=0,e}}]),e}();t.a=s},901:function(e,t,r){"use strict";var n=r(670),i=r(569),o=r(555),a=r(639),s=r(629),c=r(736),u=r(559),l={},d=r(738),f=(r(320),r(578)),p=r(577),h=r(576),v={},y=r(628),E=r(586),g=r(733),b=(r(23),r(42),r(28),r(37),r(15),r(18),r(43),r(3)),O=r.n(b),m=r(4),T=r.n(m),I=r(1),_=r.n(I);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var S=function(){function e(t){var r=this;O()(this,e),_()(this,"onNativeFullscreenBegin",(function(){r.setFullscreen(!0)})),_()(this,"onNativeFullscreenEnd",(function(){r.setFullscreen(!1)})),_()(this,"onFullscreenChanged",(function(){var e=(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===r.fullscreenTarget;e||(r.fullscreenTarget=void 0,r.removeDocumentListeners()),r.setFullscreen(e)})),_()(this,"expand",(function(e,t,n){t&&(r.expandTimeout=setTimeout((function(){r.setFullscreen(!1)}),1e3),r.fullscreenTarget&&(r.fullscreenTarget.removeEventListener("touchstart",r._swipeStart),r.fullscreenTarget.removeEventListener("transitionend",r._fullscreenTransitionEnd),r.setFullscreen(!1)),r.fullscreenTarget=t,r.playerId=e,r.addDocumentListeners(),t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitEnterFullscreen?(r.addElementListeners(t),t.webkitEnterFullscreen()):null!=n&&n.webkitEnterFullscreen?(r.fullscreenTarget=n,r.addElementListeners(n),n.webkitEnterFullscreen()):(r.removeDocumentListeners(),r.removeElementListeners(),r.nonFullscreenStyle=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.style),r.nonFullscreenPosition=t.getBoundingClientRect(),t.style.position="fixed",t.style.width="".concat(r.nonFullscreenPosition.right-r.nonFullscreenPosition.left,"px"),t.style.height="".concat(r.nonFullscreenPosition.bottom-r.nonFullscreenPosition.top,"px"),t.style.top="".concat(r.nonFullscreenPosition.top,"px"),t.style.left="".concat(r.nonFullscreenPosition.left,"px"),t.style.zIndex="100",window.requestAnimationFrame((function(){t.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",t.style.width="100%",t.style.height="100%",t.style.top="0",t.style.left="0",t.addEventListener("transitionend",r._fullscreenTransitionEnd)}))))})),_()(this,"shrink",(function(e){e===r.playerId&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():r.fullscreenTarget.webkitExitFullscreen?r.fullscreenTarget.webkitExitFullscreen():(r.fullscreenTarget.style.width="".concat(r.nonFullscreenPosition.right-r.nonFullscreenPosition.left,"px"),r.fullscreenTarget.style.height="".concat(r.nonFullscreenPosition.bottom-r.nonFullscreenPosition.top,"px"),r.fullscreenTarget.style.top="".concat(r.nonFullscreenPosition.top,"px"),r.fullscreenTarget.style.left="".concat(r.nonFullscreenPosition.left,"px"),r.fullscreenTarget.style.transition="width 0.25s, height 0.25s, top 0.25s, left 0.25s",r.fullscreenTarget.addEventListener("transitionend",r._shrinkTransitionEnd),r.fullscreenTarget.removeEventListener("touchstart",r._swipeStart)))})),_()(this,"_swipeStart",(function(e){r.addSwipeListeners(),r.touchStart=e.touches[0]})),_()(this,"_swipeMove",(function(e){e.preventDefault();var t=e.touches[0].pageY-r.touchStart.pageY;r.swipeVector=Math.abs(t);var n=t/r.swipeVector*Math.min(r.swipeVector,r.swipeVector/(r.swipeVector+3*r.fullscreenTarget.clientHeight/4)*r.fullscreenTarget.clientHeight*1/2);r.fullscreenTarget.style.top="".concat(n,"px")})),_()(this,"_swipeEnd",(function(){r.removeSwipeListeners(),r.swipeVector>r.fullscreenTarget.clientHeight/4?r.shrink(r.playerId):r.fullscreenTarget.style.top="0"})),_()(this,"_fullscreenTransitionEnd",(function(){r.fullscreenTarget.style.transition="",r.fullscreenTarget.removeEventListener("transitionend",r._fullscreenTransitionEnd),r.fullscreenTarget.addEventListener("touchstart",r._swipeStart),r.setFullscreen(!0)})),_()(this,"_shrinkTransitionEnd",(function(){r.fullscreenTarget.removeEventListener("transitionend",r._shrinkTransitionEnd),r.fullscreenTarget.style.transition="",r.fullscreenTarget.style.position=r.nonFullscreenStyle.position,r.fullscreenTarget.style.width=r.nonFullscreenStyle.width,r.fullscreenTarget.style.height=r.nonFullscreenStyle.height,r.fullscreenTarget.style.top=r.nonFullscreenStyle.top,r.fullscreenTarget.style.left=r.nonFullscreenStyle.left,r.fullscreenTarget.style.zIndex=r.nonFullscreenStyle.zIndex,r.setFullscreen(!1),r.fullscreenTarget=void 0})),this.fullscreenTarget=void 0,this.playerId=void 0,this.onChange=t,this.isFullscreen=!1}return T()(e,[{key:"addDocumentListeners",value:function(){document.addEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.addEventListener("mozfullscreenchange",this.onFullscreenChanged),document.addEventListener("MSFullscreenChange",this.onFullscreenChanged),document.addEventListener("fullscreenchange",this.onFullscreenChanged)}},{key:"removeDocumentListeners",value:function(){document.removeEventListener("webkitfullscreenchange",this.onFullscreenChanged),document.removeEventListener("mozfullscreenchange",this.onFullscreenChanged),document.removeEventListener("MSFullscreenChange",this.onFullscreenChanged),document.removeEventListener("fullscreenchange",this.onFullscreenChanged)}},{key:"addSwipeListeners",value:function(){document.addEventListener("touchend",this._swipeEnd),document.addEventListener("touchmove",this._swipeMove)}},{key:"addElementListeners",value:function(e){e.addEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.addEventListener("webkitendfullscreen",this.onNativeFullscreenEnd)}},{key:"removeElementListeners",value:function(){var e=this.fullscreenTarget;e&&(e.removeEventListener("webkitbeginfullscreen",this.onNativeFullscreenBegin),e.removeEventListener("webkitendfullscreen",this.onNativeFullscreenEnd),e.removeEventListener("transitionend",this._fullscreenTransitionEnd),e.removeEventListener("transitionend",this._shrinkTransitionEnd))}},{key:"removeSwipeListeners",value:function(){document.removeEventListener("touchend",this._swipeEnd),document.removeEventListener("touchmove",this._swipeMove)}},{key:"setFullscreen",value:function(e){clearTimeout(this.expandTimeout),this.onChange(this.playerId,e),e||(this.cleanup(),this.fullscreenTarget=void 0,this.playerId=void 0)}},{key:"cleanup",value:function(){clearTimeout(this.expandTimeout),this.removeDocumentListeners(),this.removeElementListeners(),this.removeSwipeListeners()}}]),e}(),P=(r(344),r(737));function w(e){Object(P.b)("captions",e)}r(322);var A=r(561),C=r(669),D=C.a.BUFFERING_COMPLETED,j=C.a.BUFFERING_REQUESTED,k=C.a.IDLE,L=C.a.PREBUFFERING_COMPLETED,N=function(e,t){Object.keys(t).forEach((function(r){r=parseInt(r,10);var n=(null==t?void 0:t[r])||{},i=n.bufferingStatus,o=n.targetDuration;!(i===D)&&void 0!==i&&!(i===L)&&o&&e.dispatch(Object(C.f)(r,j,A.b*o))}))};function U(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}var M=U();M.withExtraArgument=U;var x=M,F=r(878),V="object"==typeof self&&self&&self.Object===Object&&self,B=(F.a||V||Function("return this")()).Symbol,G=Object.prototype,H=G.hasOwnProperty,J=G.toString,K=B?B.toStringTag:void 0;var W=function(e){var t=H.call(e,K),r=e[K];try{e[K]=void 0;var n=!0}catch(e){}var i=J.call(e);return n&&(t?e[K]=r:delete e[K]),i},Q=Object.prototype.toString;var Y=function(e){return Q.call(e)},z=B?B.toStringTag:void 0;var q=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":z&&z in Object(e)?W(e):Y(e)};var X=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object);var Z=function(e){return null!=e&&"object"==typeof e},$=Function.prototype,ee=Object.prototype,te=$.toString,re=ee.hasOwnProperty,ne=te.call(Object);var ie=function(e){if(!Z(e)||"[object Object]"!=q(e))return!1;var t=X(e);if(null===t)return!0;var r=re.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&te.call(r)==ne},oe=r(875),ae="@@redux/INIT";function se(e,t){var r=t&&t.type;return"Given action "+(r&&'"'+r.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function ce(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var le=r(666),de=r.n(le),fe=[function(e){return function(t){return function(r){switch(r.type){case u.c:l[r.playerId]=function(){return"function"==typeof r.adProvider?r.adProvider():{}};break;case a.a:delete l[r.playerId];break;case o.p:case i.c:var d,f,p=e.getState().players[r.playerId],h=null==p||null===(d=p.features)||void 0===d?void 0:d[s.e];if(p&&!p.adLoaded&&l[r.playerId]&&!h&&(null===(f=p.errorInfo)||void 0===f||!f.adFailed))return t(Object(c.d)(r.playerId,l[r.playerId],r.type===i.c));break;case u.b:var v,y=e.dispatch(Object(n.b)(r.playerId,s.e)),E=e.getState().players[r.playerId];if(l[r.playerId]&&y&&E&&(null===(v=E.errorInfo)||void 0===v||!v.adFailed)){var g=l[r.playerId]();e.dispatch(Object(c.b)(r.playerId,g))}}return t(r)}}},function(e){return function(t){return function(r){switch(r.type){case i.c:var n=Object(y.c)(e,r.playerId)||{},a=n.initiallyMutedCaptions,s=n.userSpecifiedCaptions;a&&!s&&e.dispatch(Object(o.L)(r.playerId,!1));break;case o.p:case o.r:case o.t:case o.u:case o.s:case E.b:var c=Object(y.c)(e,r.playerId)||{},u=c.isPreview,l=c.userSpecifiedCaptions;u&&!l&&e.dispatch(Object(o.K)(r.playerId,!1))}return t(r)}}},n.a,function(e){var t=new S((function(t,r){e.dispatch(Object(E.h)(t,r))}));return function(r){return function(n){var i=e.getState().players[n.playerId],o=n.type;return!i||o!==E.b&&o!==E.c||(o===E.b?(e.dispatch(Object(E.h)(n.playerId,!0)),t.expand(n.playerId,n.containerEl,n.videoEl)):t.shrink(n.playerId)),r(n)}}},function(e){return function(t){return function(r){switch(r.type){case u.c:switch(e.dispatch(Object(o.T)(r.playerId,(i=parseFloat(Object(P.a)("volume")),isNaN(i)?1:i))),function(){var e,t=Object(P.a)("captions");if("ENABLED"===(e=t)||"DISABLED"===e)return t}()){case"ENABLED":e.dispatch(Object(o.L)(r.playerId,!0));break;case"DISABLED":e.dispatch(Object(o.K)(r.playerId,!0))}break;case o.B:(n=r.volume)>=0&&null!==n&&Object(P.b)("volume",n);break;case o.m:r.isUserSet&&w("ENABLED");break;case o.l:r.isUserSet&&w("DISABLED")}var n,i;return t(r)}}},function(e){return function(t){return function(r){var n,a=e.getState().players,c=a[r.playerId],u=c||{},l=u.bufferingStatus,d=u.targetDuration,f=null==c||null===(n=c.features)||void 0===n?void 0:n[s.d];switch(r.type){case i.b:case o.o:f&&void 0!==l&&N(e,a);break;case i.c:case o.p:if(f&&void 0!==l){var p=l===D;if(d){var h=d*A.b;e.dispatch(Object(C.h)(r.playerId,h))}p||function(e,t,r){Object.keys(t).forEach((function(n){n=parseInt(n,10);var i=(null==t?void 0:t[n])||{},o=i.bufferingStatus,a=i.controls,s=i.isPlaying,c=void 0!==o,u=o===D,l=o===L,d="PLAY_REQUESTED"===(null==a?void 0:a.playState)||s;!u&&!d&&c&&n!==r&&!l&&e.dispatch(Object(C.f)(n,k,0))}))}(e,a,r.playerId)}break;case C.c:if(f){var v,E=r.bufferingStatus===D,g="PLAY_REQUESTED"===(null==c||null===(v=c.controls)||void 0===v?void 0:v.playState)||(null==c?void 0:c.isPlaying);E&&g&&N(e,a)}break;case C.d:if(r.targetDuration&&f){var b=Object(y.b)(a,(function(e){var t;return((null==e?void 0:e.isPlaying)||"PLAY_REQUESTED"===(null==e||null===(t=e.controls)||void 0===t?void 0:t.playState))&&void 0!==(null==e?void 0:e.bufferingStatus)&&(null==e?void 0:e.bufferingStatus)!==D}));if(void 0===b||b.playerId===r.playerId){var O=r.targetDuration*A.b;e.dispatch(Object(C.h)(r.playerId,O))}else b.playerId!==r.playerId&&e.dispatch(Object(C.f)(r.playerId,k,0))}else if(r.targetDuration){var m=r.targetDuration*A.b;e.dispatch(Object(C.h)(r.playerId,m))}}return t(r)}}},function(e){return function(t){return function(r){if(void 0!==r.playerId&&Object(f.d)(r.playerId,(function(e){e.log("redux",r.type)})),r.type===u.c)return v[r.playerId]=r.analytics,t(r);var n=e.getState().players[r.playerId];if(!n)return t(r);var s=t(r),c=e.getState().players[r.playerId],l=v[r.playerId];if(void 0!==l){switch(r.type){case h.e:case o.A:l.onTickEvent(c);break;case h.f:l.onTrackFinished(n),c.currentTrackId!==n.currentTrackId&&l.onIntendToPlay(c);break;case h.c:var d,y=n.tracks.find((function(e){return e.id===n.currentTrackId}));"ad"!==y.displayType||y.playbackCompleted||!n||null!==(d=n.errorInfo)&&void 0!==d&&d.adFailed||l.onAdSkip(n),c.currentTrackId!==n.currentTrackId&&l.onIntendToPlay(c);break;case o.p:case i.c:l.onIntendToPlay(c);break;case o.r:l.onReplay(c);break;case o.B:n.isMuted&&!c.isMuted?l.onUnmute(n):!n.isMuted&&c.isMuted&&l.onMute(n);break;case o.b:l.onCtaClick(n);break;case o.c:l.onCtaImpression(n);break;case a.a:l.onTeardown(n),delete v[r.playerId];break;case u.b:l.onConfigLoaded(c);break;case p.a:case p.c:var E,g=c.errorInfo,b=g.autoRetry?g.count:void 0;E=r.type===p.a||r.type===p.c?r.thrownError.message:r.error,l.onError(n,{error_code:r.type,error_message:E,media_details:{media_error:{category:r.type,is_fatal:r.isFatal,message:E,retry_count:b}}})}c&&c.isPlaying!==n.isPlaying&&(c.isPlaying?l.onPlay(c):l.onPause(c))}return s}}},g.b,le.hydraMiddleware,x];t.a=function e(t,r,n){var i;if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(e)(t,r)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var o=t,a=r,s=[],c=s,u=!1;function l(){c===s&&(c=s.slice())}function d(){return a}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),c.push(e),function(){if(t){t=!1,l();var r=c.indexOf(e);c.splice(r,1)}}}function p(e){if(!ie(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=o(a,e)}finally{u=!1}for(var t=s=c,r=0;r<t.length;r++){(0,t[r])()}return e}return p({type:ae}),(i={dispatch:p,subscribe:f,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,p({type:ae})}})[oe.a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(d())}return r(),{unsubscribe:t(r)}}})[oe.a]=function(){return this},e},i}(function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];0,"function"==typeof e[i]&&(r[i]=e[i])}var o=Object.keys(r),a=void 0;try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:ae}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+ae+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var n=!1,i={},s=0;s<o.length;s++){var c=o[s],u=r[c],l=e[c],d=u(l,t);if(void 0===d){var f=se(c,t);throw new Error(f)}i[c]=d,n=n||d!==l}return n?i:e}}({players:a.b,hydraExperiences:de.a,allPlayers:d.b}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,i){var o,a=e(r,n,i),s=a.dispatch,c={getState:a.getState,dispatch:function(e){return s(e)}};return o=t.map((function(e){return e(c)})),s=ce.apply(void 0,o)(a.dispatch),ue({},a,{dispatch:s})}}}.apply(void 0,fe))},903:function(e,t,r){"use strict";r(326),r(92),r(42),r(193),r(587),r(93),r(116),r(23),r(28),r(37),r(15),r(18),r(43);var n=r(3),i=r.n(n),o=r(4),a=r.n(o),s=r(1),c=r.n(s),u=(r(321),r(63),r(36),r(115),r(196),r(20),r(103),r(435),r(320),r(555)),l=r(738),d=r(557),f=r(600),p=r(670),h=r(578),v=r(561),y=(r(56),r(6)),E=r.n(y),g=r(16),b=r.n(g),O=r(19),m=r.n(O),T=r(10),I=r.n(T);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I()(e);if(t){var i=I()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m()(this,r)}}var R=r(577),S=r(601),P=r(576),w=r(669),A=(r(65),r(668)),C=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=t();return r>0?i.catch((function(i){return new Promise((function(i){setTimeout((function(){i(e(t,r-1,2*n))}),n)}))})):i},D="application/x-mpegURL",j=function(e){var t;switch(e){case"0.13.2":t=C((function(){return r.e(52).then(r.bind(null,927))}));case"0.14.17":default:t=C((function(){return r.e(53).then(r.bind(null,928))}))}return t.then((function(e){return e.default}))},k=function(){var e=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return r&&n},L=function(e){var t=document.createElement("video");return t.canPlayType&&t.canPlayType(e)};r(150);function N(e){return"captions"===e.kind&&e.cues&&e.cues.length>0||"subtitles"===e.kind}function U(e,t){if(t&&e){var r=t.split("-")[0];return e.toLowerCase()===r.toLowerCase()}}var M,x=r(737),F=r(666),V=r(629);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=1,K=2,W=3,Q=4,Y="captions",z="metadata",q="subtitles",X="disabled",Z="hidden",$="showing",ee=function(){function e(t,r,n,o,a){var s=this,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};i()(this,e),c()(this,"onLoadStart",(function(){s.playerRenderPromise||s.dispatchPlayerReady()})),this.domElement=t,this.playerId=r,this.hydraExperienceId=u.hydraExperienceId,this.store=n,this.reload=o,this.showControls=u.showControls,this.objectFitVideo=u.objectFitVideo,this.playerHandlesRotations=u.playerHandlesRotations,this.language=u.language,this.precache=u.precache,this.videoEl=u.videoEl,this.accessibilityLabel=u.accessibilityLabel,this.id3Disabled=!1,this.activeCues={},this.shouldRetryAutoplayMuted=u.shouldRetryAutoplayMuted,this.enablePiP=u.enablePiP||!1,Object(A.c)()||(this.hlsjsVersion=n.dispatch(Object(p.b)(r,V.b)),this.smartBufferingExperimentEnabled=this.store.dispatch(Object(p.b)(this.playerId,V.d)),this.hlsJsSegmentsToPrebuffer=v.b),this.isHlsWorkerEnabled=n.dispatch(Object(p.b)(r,V.c))||!1,this.liveAdDomainRegex=/t.lv.twimg.com$|ton.twitter.com$/,this.logger=a,this.onLoadedMetadata=this.onLoadedMetadata.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onCanPlay=this.onCanPlay.bind(this),this.onPlay=this.onPlay.bind(this),this.onPlaying=this.onPlaying.bind(this),this.onPause=this.onPause.bind(this),this.onVolumeChange=this.onVolumeChange.bind(this),this.onSeeked=this.onSeeked.bind(this),this.onSeeking=this.onSeeking.bind(this),this.onEnded=this.onEnded.bind(this),this.onError=this.onError.bind(this),this.onHlsJsError=this.onHlsJsError.bind(this),this.onId3CueWithInfo=this.onId3CueWithInfo.bind(this),this.onId3CueWithData=this.onId3CueWithData.bind(this),this.onFragmentLoading=this.onFragmentLoading.bind(this),this.onFragmentParsingInitSegment=this.onFragmentParsingInitSegment.bind(this),this.onLevelSwitching=this.onLevelSwitching.bind(this),this.onLevelLoaded=this.onLevelLoaded.bind(this),this.onBufferAppended=this.onBufferAppended.bind(this),this.onBufferEOS=this.onBufferEOS.bind(this),this.onBufferStart=this.onBufferStart.bind(this),this.onManifestParsed=this.onManifestParsed.bind(this),this.render=this.render.bind(this),this.dispatchPlayerReady=this.dispatchPlayerReady.bind(this),this.hlsJsPlay=this.hlsJsPlay.bind(this),this.shouldUseBitratePersistence=this.shouldUseBitratePersistence.bind(this),this.unsubscribeFromStore=this.store.subscribe(this.render),this.playPromise=Promise.resolve(),this.renderVideoTag(),this.render()}return a()(e,[{key:"teardownPlayer",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.trackDataUsage();var t=this.hlsJs;if(t){t.detachMedia();var r=function(){t.destroy()};this.hlsJs=void 0,this.playPromise.then(r).catch(r)}if(this.videoTag){this.stopListeningForId3Tags(),this.videoTag.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.removeEventListener("timeupdate",this.onTimeUpdate),this.videoTag.removeEventListener("canplay",this.onCanPlay),this.videoTag.removeEventListener("play",this.onPlay),this.videoTag.removeEventListener("playing",this.onPlaying),this.videoTag.removeEventListener("pause",this.onPause),this.videoTag.removeEventListener("volumechange",this.onVolumeChange),this.videoTag.removeEventListener("seeked",this.onSeeked),this.videoTag.removeEventListener("seeking",this.onSeeking),this.videoTag.removeEventListener("ended",this.onEnded),this.videoTag.removeEventListener("error",this.onError),this.videoTag.removeEventListener("waiting",this.onBufferStart),this.videoTag.removeEventListener("loadstart",this.onLoadStart),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=void 0);try{this.videoTag.pause(),this.videoTag.removeAttribute("src"),this.videoTag.removeAttribute("poster"),this.videoTag.load()}catch(e){}this.videoTag.parentNode&&this.videoTag.parentNode.removeChild(this.videoTag),this.videoTag=void 0}this.renderedTrackId=void 0,this.hasEndedOnce=!1,this.activeCues=void 0,e&&(this.renderVideoTag(),this.activeCues={})}},{key:"teardown",value:function(){this.teardownPlayer(!1),this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.unsubscribeFromStore()}},{key:"getVideoTag",value:function(){return this.videoTag}},{key:"renderVideoTag",value:function(){this.videoTag=this.videoEl||document.createElement("video"),this.videoTag.setAttribute("preload","none"),this.videoTag.setAttribute("playsinline",""),this.showControls&&this.videoTag.setAttribute("controls",""),this.accessibilityLabel&&this.videoTag.setAttribute("aria-label",this.accessibilityLabel),this.enablePiP||this.videoTag.setAttribute("disablePictureInPicture",""),this.videoTag.style.width="100%",this.videoTag.style.height="100%",this.videoTag.style.position="absolute",this.videoTag.style.backgroundColor="black",this.videoTag.addEventListener("loadstart",this.onLoadStart,!1),this.videoTag.addEventListener("loadedmetadata",this.onLoadedMetadata),this.videoTag.addEventListener("timeupdate",this.onTimeUpdate),this.videoTag.addEventListener("play",this.onPlay),this.videoTag.addEventListener("pause",this.onPause),this.videoTag.addEventListener("volumechange",this.onVolumeChange),this.videoTag.addEventListener("seeked",this.onSeeked),this.videoTag.addEventListener("seeking",this.onSeeking),this.videoTag.addEventListener("ended",this.onEnded),this.videoTag.addEventListener("error",this.onError),this.videoTag.addEventListener("playing",this.onPlaying),this.videoTag.addEventListener("waiting",this.onBufferStart),this.videoTag.addEventListener("canplay",this.onCanPlay),this.videoTag.textTracks&&(this.videoTag.textTracks.onaddtrack=this.handleTrackAdded.bind(this)),this.hasEndedOnce=!1}},{key:"onLoadedMetadata",value:function(){this.checkInitialSeek()}},{key:"onTimeUpdate",value:function(){var e,t,r;if(void 0===this.dateTimeAnchor&&void 0!==this.videoTag.getStartDate){var n=this.videoTag.getStartDate();n&&(this.dateTimeAnchor={streamTimeMs:0,absoluteTimeMs:n.getTime()})}var i,o=1e3*this.videoTag.currentTime;void 0!==this.dateTimeAnchor&&(i=o-this.dateTimeAnchor.streamTimeMs+this.dateTimeAnchor.absoluteTimeMs);var a=0,s=this.videoTag.currentSrc;if(s){var c=this.getCurrentTrack();if(void 0===c)return;var u=c.variants;if(void 0===u)return;for(var d=0;d<u.length;d++)if(u[d].src===s){a=d;break}}this.store.dispatch(Object(P.q)(this.playerId,o,i,1e3*this.videoTag.duration,this.hasCaptions(),a));var f=null===(e=this.hlsJs)||void 0===e?void 0:e.bandwidthEstimate;void 0!==f&&!isNaN(f)&&this.store.dispatch(Object(l.a)(f)),this.trackDataUsage();var p=null===(t=this.getPlayerState())||void 0===t||null===(r=t.controls)||void 0===r?void 0:r.playbackTimeRange;if(p){var h=this.clipScrubTime(p.startTimeS),v=this.clipScrubTime(p.endTimeS),y=window.isFinite(h)&&window.isFinite(v)&&h<v,E=this.videoTag.currentTime<h||this.videoTag.currentTime>v;y&&E&&!this.seeking&&(this.videoTag.currentTime=h)}}},{key:"trackDataUsage",value:function(){var e=this;Object(h.b)(this.playerId,(function(t){var r=t.getAndReset();r>0&&e.store.dispatch(u.H(e.playerId,r))}))}},{key:"checkInitialSeek",value:function(){var e=this.videoTag,t=this.getInitialTimeCode();this.isSeekable(t)&&!this.hasInitialSeeked&&t>-1&&(this.hasInitialSeeked=!0,e.currentTime=t)}},{key:"onCanPlay",value:function(){this.checkInitialSeek(),this.onBufferEnd()}},{key:"onPlay",value:function(){var e=this.videoTag.duration;this.isLooping||this.isLive&&(this.hlsJs?this.hlsJs.liveSyncPosition&&(this.videoTag.currentTime=this.hlsJs.liveSyncPosition):e&&window.isFinite(e)&&(this.videoTag.currentTime=e))}},{key:"onPlaying",value:function(){this.videoTag.paused||(this.isEnded=!1,this.reloadTimecode=void 0,this.store.dispatch(u.X(this.playerId)),this.onBufferEnd(),this.onTimeUpdate())}},{key:"onPause",value:function(){this.videoTag.ended||this.store.dispatch(u.W(this.playerId)),this.onBufferEnd()}},{key:"onVolumeChange",value:function(){this.store.dispatch(u.ab(this.playerId,this.videoTag.muted,this.videoTag.volume)),Object(x.b)("volume",this.videoTag.volume)}},{key:"onSeeking",value:function(){this.seeking||this.isLooping||(this.seeking=!0,this.store.dispatch(u.Z(this.playerId))),this.store.dispatch(Object(F.resetGuestState)(this.hydraExperienceId)),this.hasInitialSeeked=!0}},{key:"onSeeked",value:function(){this.seeking=!1,this.isEnded=!1,this.isLooping=!1,this.store.dispatch(u.Y(this.playerId)),this.onBufferEnd(),this.updateRotation()}},{key:"updateRotation",value:function(){var e,t,r,n=(this.getId3Track()||{}).cues||[],i=n.length,o=this.videoTag.currentTime;for(e=0;e<i&&n[e].startTime<=o;e++)"TXXX"===(t=n[e]).value.key&&"JSONMetadata"===t.value.info&&(r=t);if(r)try{var a=JSON.parse(r.value.data),s=this.normalizeRotation(a.rotation),c=this.getCurrentTrack();void 0!==s&&s!==c.rotation&&this.store.dispatch(Object(P.p)(this.playerId,s))}catch(e){}}},{key:"onEnded",value:function(){this.onBufferEnd(),this.isEnded=this.hasEndedOnce=!0,this.store.dispatch(Object(P.r)(this.playerId));var e=this.getCurrentTrack();if(void 0!==e){var t=e.shouldLoop;if(this.shouldLoop=t,this.shouldLoop){this.isLooping=!0;var r=this.videoTag.play()||Promise.resolve();this.playPromise=r.catch((function(){}))}var n=this.getCurrentTrack(),i=n.isLive,o=n.isLiveTimecode;i&&(o&&this.reload({requestedTimecode:-1,autoPlay:!0}),this.reload()),this.hasInitialSeeked=!1}}},{key:"onHlsJsError",value:function(e,t,r){if(r.fatal){var n=r.response&&r.response.code;this.teardownPlayer(),403===n?"broadcast"===e||"live"===e||"periscope"===e?this.store.dispatch(Object(R.h)(this.playerId,new Error(d.a.LIVE_VIDEO_GEOBLOCK_ERROR))):this.store.dispatch(Object(R.h)(this.playerId,new Error(d.a.MEDIA_GEOBLOCK_ERROR))):(n=n?":".concat(n):"",this.store.dispatch(Object(R.h)(this.playerId,new Error("".concat(r.type,":").concat(r.details).concat(n)))))}}},{key:"onError",value:function(e,t){if(this.videoTag.error){var r;switch(this.videoTag.error.code){case J:r=d.a.MEDIA_ABORTED;break;case K:r=d.a.MEDIA_NETWORK_ERROR;break;case W:r=d.a.MEDIA_DECODE_ERROR;break;case Q:r=d.a.MEDIA_SRC_INVALID_ERROR;break;default:r=d.a.MEDIA_UNKNOWN_CODE_ERROR}this.store.dispatch(Object(R.h)(this.playerId,new Error(r))),this.teardownPlayer()}}},{key:"normalizeRotation",value:function(e){var t=90*Math.floor((Math.floor(e)+45)/90)%360;return 270===t?-90:t}},{key:"isMissingDataProp",value:function(e){var t,r,n=G(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("TXXX"===i.value.key){t=i;break}}}catch(e){n.e(e)}finally{n.f()}return t&&""===t.value.data&&/\[.*\]|\{.*\}$/.test(t.value.info)}},{key:"onId3CueWithInfo",value:function(e){var t=/(\[|\{)/,r=e.currentTarget.activeCues,n=this.activeCues;this.activeCues={};var i,o=G(r);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.value,c=s.key,u=s.info,l=[a.startTime,c,u].join("|");if(this.activeCues[l]=!0,!n[l]&&"TXXX"===c){var d=u.search(t);if(-1!==d){var f=u.slice(0,d),p=u.slice(d);this.parseId3Data(f,p)}}}}catch(e){o.e(e)}finally{o.f()}}},{key:"onId3CueWithData",value:function(e){var t=e.currentTarget.activeCues,r=this.activeCues;this.activeCues={};var n,i=[],o=G(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.value,c=s.key,u=s.info,l=s.data,d=[a.startTime,c,u,l].join("|");this.activeCues[d]=!0,r[d]||("TXXX"===c&&this.parseId3Data(u,l),a.value&&i.push(a.value))}}catch(e){o.e(e)}finally{o.f()}this.store.dispatch(Object(P.l)(this.playerId,i))}},{key:"parseId3Data",value:function(e,t){try{var r=JSON.parse(t);if("JSONMetadata"===e){var n=this.normalizeRotation(r.rotation);this.store.dispatch(Object(P.p)(this.playerId,n)),this.store.dispatch(Object(P.m)(this.playerId,r))}else"HydraAudioLevel"===e?this.store.dispatch(Object(F.updateAudioLevels)(this.hydraExperienceId,r)):"HydraParticipants"===e&&this.store.dispatch(Object(F.updateGuestInfo)(this.hydraExperienceId,r))}catch(e){}}},{key:"onBufferAppended",value:function(e,t){if(0===this.pendingSegments){var r=this.getPlayerState(),n=r.controls,i=r.hasPlaybackStarted,o=r.nextTrackIds,a=(null==n?void 0:n.playState)===u.k.PLAY_REQUESTED;if(this.bufferedSegments+=1,!i&&!a&&this.hlsJs){this.prebufferedSegments+=1;var s=o&&0!==o.length;this.prebufferedSegments!==this.expectedSegments||s?(this.prebufferedSegments===v.b||this.prebufferedSegments===this.expectedSegments&&s)&&(this.maximumBufferLength=this.hlsJs.config.maxMaxBufferLength=0,this.store.dispatch(Object(w.f)(this.playerId,w.a.PREBUFFERING_COMPLETED,0))):this.store.dispatch(Object(w.f)(this.playerId,w.a.BUFFERING_COMPLETED))}}this.pendingSegments=null==t?void 0:t.pending}},{key:"onBufferEOS",value:function(e,t){var r=this.getPlayerState(),n=r.bufferingStatus,i=r.nextTrackIds,o=n===w.a.BUFFERING_COMPLETED,a=i&&0!==i.length;this.bufferedSegments!==this.expectedSegments||o||a||!this.hlsJs||this.store.dispatch(Object(w.f)(this.playerId,w.a.BUFFERING_COMPLETED))}},{key:"onFragmentLoading",value:function(e,t){void 0!==t&&void 0!==t.frag&&t.frag.programDateTime&&(this.dateTimeAnchor={streamTimeMs:1e3*t.frag.start,absoluteTimeMs:te(t.frag.programDateTime)})}},{key:"onFragmentParsingInitSegment",value:function(e,t){if(void 0!==t&&void 0!==t.frag&&void 0!==t.frag.level&&void 0!==this.hlsJs){var r=this.hlsJs.levels[t.frag.level];void 0!==r&&void 0!==r.details&&void 0!==r.details.programDateTime&&void 0!==r.details.fragments&&void 0!==r.details.fragments[0]&&(this.dateTimeAnchor={streamTimeMs:1e3*r.details.fragments[0].start,absoluteTimeMs:te(r.details.programDateTime)})}}},{key:"onLevelSwitching",value:function(e,t){if(this.hlsJs&&this.hlsJs.levels){var r=this.hlsJs.levels[t.level].bitrate;void 0!==r&&this.store.dispatch(Object(P.g)(this.playerId,r))}}},{key:"onLevelLoaded",value:function(e,t){if(this.hlsJs&&!this.maximumBufferLength){var r,n,i,o=null==t||null===(r=t.details)||void 0===r?void 0:r.targetduration;if(this.expectedSegments=null==t||null===(n=t.details)||void 0===n||null===(i=n.fragments)||void 0===i?void 0:i.length,o){var a=o*this.hlsJsSegmentsToPrebuffer;this.maximumBufferLength=this.hlsJs.config.maxMaxBufferLength=a,this.store.dispatch(Object(w.g)(this.playerId,o))}}}},{key:"onBufferStart",value:function(){var e=this,t=!this.hasEndedOnce||this.videoTag&&this.videoTag.currentTime>=2;this.shouldLoop&&!t||(this.buffering=!0,setTimeout((function(){e.buffering&&e.store.dispatch(Object(P.i)(e.playerId))}),20))}},{key:"onBufferEnd",value:function(){this.buffering&&(this.buffering=!1,this.store.dispatch(Object(P.h)(this.playerId)))}},{key:"getCaptionsTrack",value:function(e){var t=e||this.videoTag.textTracks||[],r=this.language;return r?function(e,t){for(var r,n,i=e.length,o=0;o<i;o++){var a=e[o],s=a.language;if(N(a)){if(s&&t&&s.toLowerCase()===t.toLowerCase())return a;!n&&U(s,t)?n=a:r||s||(r=a)}}return n||r}(t,r):function(e){for(var t=e.length,r=0;r<t;r++){var n=e[r];if(N(n))return n}}(t)}},{key:"getSubtitlesTrack",value:function(){return this.getCaptionsTrack(function(e){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];"captions"!==i.kind&&r.push(i)}return r}(this.videoTag.textTracks))}},{key:"getId3Track",value:function(){for(var e=0;e<this.videoTag.textTracks.length;e++){var t=this.videoTag.textTracks[e];if(t.kind===z)return t}}},{key:"handleTrackAdded",value:function(e){var t=e.track,r=Y,n=z,i=q;t.kind===n?this.startListeningForId3Tags():t.mode=t.kind===r?Z:X,!Object(A.c)()||t.kind!==r&&t.kind!==i||(this.id3Disabled=!0,this.stopListeningForId3Tags())}},{key:"startListeningForId3Tags",value:function(){var e=this.getId3Track();if(void 0!==e&&!this.id3Disabled){var t=e.cues;void 0===this.missingDataProp&&t&&(this.missingDataProp=this.isMissingDataProp(t)),e.oncuechange=this.missingDataProp?this.onId3CueWithInfo:this.onId3CueWithData,e.mode=Z}}},{key:"stopListeningForId3Tags",value:function(){var e=this.getId3Track();void 0!==e&&(e.oncuechange=null,e.mode=X)}},{key:"handleControlUpdate",value:function(e){var t=this;switch(e.muteState){case u.j.MUTE_REQUESTED:this.videoTag.muted=!0;break;case u.j.UNMUTE_REQUESTED:this.videoTag.muted=!1}switch(e.playState){case u.k.PAUSE_REQUESTED:var r=function(){t.videoTag&&(t.videoTag.pause(),t.stopListeningForId3Tags())};this.videoTag.paused?r():this.playPromise.then(r);break;case u.k.PLAY_REQUESTED:var n=this.hlsJs?this.hlsJsPlay():this.videoTag.play()||Promise.resolve();this.playPromise=n.catch((function(e){t.videoTag&&t.videoTag.paused&&(t.shouldRetryAutoplayMuted&&e instanceof DOMException&&"NotAllowedError"===e.name?(t.shouldRetryAutoplayMuted=!1,t.store.dispatch(u.M(t.playerId))):t.store.dispatch(u.C(t.playerId)))})),this.startListeningForId3Tags()}if(e.captionsState&&this.hasCaptions()&&this.videoTag.readyState>=2){var i=this.getCaptionsTrack();switch(e.captionsState){case u.f.CAPTIONS_ON_REQUESTED:if(this.isUserRequestedCaptions())i.mode=$,this.store.dispatch(u.G(this.playerId,!0));else{var o=this.getSubtitlesTrack();o&&(o.mode=$,this.store.dispatch(u.G(this.playerId,!0)))}break;case u.f.CAPTIONS_OFF_REQUESTED:i.mode=i.kind===Y?Z:X,this.store.dispatch(u.G(this.playerId,!1))}}if(!this.seeking){var a=this.clipScrubTime(this.videoTag.duration*e.scrubToFraction);window.isFinite(a)&&(this.videoTag.currentTime=a)}e.volume>=0&&(this.videoTag.volume=e.volume)}},{key:"clipScrubTime",value:function(e){return Math.max(0,Math.min(this.videoTag.duration-.5,e))}},{key:"hlsJsPlay",value:function(){var e=this;return new Promise((function(t){if(e.videoTag&&(e.videoTag.readyState>=3||e.isEnded))t();else{e.videoTag.addEventListener("canplay",(function r(){e.videoTag&&e.videoTag.readyState>=3&&(t(),e.videoTag.removeEventListener("canplay",r))}))}})).then((function(){return e.checkInitialSeek(),e.videoTag.play()||Promise.resolve()}))}},{key:"xhrSetup",value:function(e,t,r){var n=new S.a(t).getHostname(),i=n&&this.liveAdDomainRegex.test(n),o=r===M.ResourceTypes.KEY;(i||o)&&(e.withCredentials=!0)}},{key:"hasCaptions",value:function(){return void 0!==this.getCaptionsTrack()}},{key:"renderVideoVariant",value:function(){var e=this.getCurrentTrack(),t=e.contentType,r=e.variants,n=this.getPlayerState().features.bitrateCap,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.enableSafariMse,n=void 0!==r&&r,i=e.find((function(e){return 0===e.type.indexOf("video/mp4")})),o=e.find((function(e){return 0===e.type.indexOf(D)}));if(!o)return{useMse:!1,selectedVariant:i};var a=L(D),s=k();if(Object(A.c)()&&s&&!n&&(s=!1),s)return{useMse:!0,selectedVariant:o};var c=a?o:i;return{useMse:!1,selectedVariant:c}}(r),o=i.useMse,a=i.selectedVariant;return a?o?this.renderHlsJs(a,n,t):this.renderHtml5(a):(this.store.dispatch(Object(R.h)(this.playerId,new Error(d.a.MEDIA_NOT_SUPPORTED))),Promise.resolve())}},{key:"renderHlsJs",value:function(e,t,r){var n=this,o=this.getInitialTimeCode();return this.bufferedSegments=this.expectedSegments=this.pendingSegments=this.prebufferedSegments=0,j(this.hlsjsVersion).then((function(a){M=a;var s,u,l={autoStartLoad:!0,enableWorker:n.isHlsWorkerEnabled,fragLoadingMaxRetry:6,fragLoadingRetryDelay:500,fragLoadingTimeOut:2e4,levelLoadingMaxRetry:4,levelLoadingTimeOut:2e4,loader:(s=n.playerId,u=M,function(e){b()(r,e);var t=_(r);function r(e){var n;i()(this,r);var o=(n=t.call(this,e)).load.bind(E()(n));return n.load=function(e,t,r){var n=r.onSuccess;r.onSuccess=function(e,t,r){Object(h.b)(s,(function(e){e.add(t.total)})),n(e,t,r)},o(e,t,r)},n}return r}(u.DefaultConfig.loader)),manifestLoadingMaxRetry:4,manifestLoadingTimeOut:2e4,maxBufferHole:1.5,maxSeekHole:5,startLevel:-1,startPosition:o,xhrSetup:n.xhrSetup.bind(n),capLevelToPlayerSize:!t,debug:{trace:function(e){n.logger.log("HlsJs.trace",e)},debug:function(e){n.logger.log("HlsJs.debug",e)},log:function(e){n.logger.log("HlsJs.log",e)},warn:function(e){n.logger.log("HlsJs.warn",e)},info:function(e){n.logger.log("HlsJs.info",e)},error:function(e){n.logger.log("HlsJs.error",e)}}};n.hlsJs=new M(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},l)),n.smartBufferingExperimentEnabled&&(n.hlsJs.on(M.Events.BUFFER_APPENDED,n.onBufferAppended),n.hlsJs.on(M.Events.BUFFER_EOS,n.onBufferEOS)),n.hlsJs.on(M.Events.ERROR,n.onHlsJsError.bind(n,r)),n.hlsJs.on(M.Events.FRAG_LOADING,n.onFragmentLoading),n.hlsJs.on(M.Events.FRAG_PARSING_INIT_SEGMENT,n.onFragmentParsingInitSegment),n.hlsJs.on(M.Events.LEVEL_SWITCHING,n.onLevelSwitching),n.hlsJs.on(M.Events.LEVEL_LOADED,n.onLevelLoaded),n.hlsJs.on(M.Events.MANIFEST_PARSED,n.onManifestParsed.bind(n,t)),n.hlsJs.attachMedia(n.videoTag),n.hlsJs.loadSource(e.src),n.store.dispatch(Object(P.k)(n.playerId))})).catch((function(){n.store.dispatch(Object(R.h)(n.playerId,new Error("".concat(d.a.CONFIG_NETWORK_ERROR,":HlsJsChunk"))))}))}},{key:"renderHtml5",value:function(e){return this.videoTag.setAttribute("preload",this.precache?"auto":"none"),this.videoTag.setAttribute("src",e.src),this.videoTag.setAttribute("type",e.type),Promise.resolve()}},{key:"onManifestParsed",value:function(e,t,r){var n,i=r.levels,o=i.length;if(e){var a;for(a=1;a<i.length&&!(i[a].bitrate>e);a++);this.hlsJs.autoLevelCapping=a-1,o=a-1}var s=null===(n=this.store.getState().allPlayers)||void 0===n?void 0:n.mostRecentBandwidthEst;if(this.shouldUseBitratePersistence()&&void 0!==s){var c,u=o===i.length?i:i.slice(0,o);for(c=1;c<u.length&&!(i[c].bitrate>s);c++);this.hlsJs.startLevel=c-1}this.dispatchPlayerReady()}},{key:"dispatchPlayerReady",value:function(){this.store.dispatch(Object(P.o)(this.playerId))}},{key:"renderContainer",value:function(){var e=document.createElement("div");if(e.style.position="relative",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="transparent",e.style.overflow="hidden",e.appendChild(this.videoTag),Object(A.b)()){var t=document.createElement("style"),r=document.createTextNode("video::-webkit-media-controls { display: none !important; }");t.appendChild(r),e.appendChild(t)}this.domElement.innerHTML="",this.domElement.appendChild(e)}},{key:"getPlayerState",value:function(){return this.store.getState().players[this.playerId]||{}}},{key:"getCurrentTrack",value:function(){var e=this.getPlayerState();return Object(f.b)(e)}},{key:"getInitialTimeCode",value:function(){var e=this.reloadTimecode;if(void 0===this.getCurrentTrack())return-1;var t=this.getCurrentTrack(),r=t.isLive,n=t.isLiveTimecode,i=[e,t.requestedTimecode,t.replayEditedStartTime].find((function(e){return e>0||0===e}));return r&&!n||void 0===i?-1:i}},{key:"isUserRequestedCaptions",value:function(){return this.getPlayerState().userSpecifiedCaptions}},{key:"isSeekable",value:function(e){if(0===e||e>0)for(var t=this.videoTag.seekable,r=t.length,n=0;n<r;n++)if(t.start(n)<=e&&e<=t.end(n))return!0;return!1}},{key:"cleanupVideoElement",value:function(){if(this.hasCaptions()){var e=this.getCaptionsTrack();if(Array.isArray(e.cues))for(;e.cues.length;)e.removeCue(e.cues[0])}}},{key:"render",value:function(){var e=this,t=this.getPlayerState(),r=t.posterImage;if(void 0!==t.currentTrackId)if(t.error)this.teardownPlayer();else{var n=this.getCurrentTrack();if(this.renderedTrackId!==t.currentTrackId){this.cleanupVideoElement(),this.hlsJs&&(this.hlsJs.destroy(),this.hlsJs=void 0),r&&this.videoTag.setAttribute("poster",r);var i=n.isLive,o=n.shouldLoop,a=n.reloadTimecode;i||(this.reloadTimecode=a),this.hasInitialSeeked=!1,this.renderedTrackId=t.currentTrackId,this.playerRenderPromise=this.renderVideoVariant(),this.playerRenderPromise.then((function(){e.renderContainer(),e.isLive=i,e.shouldLoop=o,e.videoTag.volume=Object(x.a)("volume",1)||1,e.playerRenderPromise=void 0}))}if(n.playerReady){var s=t.fullscreen.isFullscreen,c=n.rotation;this.handleControlUpdate(t.controls),this.renderRotationAndScale(c,s)}this.hlsJs&&this.maximumBufferLength!==t.maximumBufferLength&&(this.maximumBufferLength=t.maximumBufferLength,this.hlsJs.config.maxMaxBufferLength=this.maximumBufferLength)}}},{key:"renderRotationAndScale",value:function(e,t){var r=this.videoTag,n=100,i=100,o=0,a=0,s=!1!==this.playerHandlesRotations;if(s&&(90===e||-90===e)){var c=r.parentNode||{},u=c.offsetWidth/c.offsetHeight;isFinite(u)&&(o=(100-(i=100*u))/2,a=(100-(n=100/u))/2)}r.style.width="".concat(n,"%"),r.style.height="".concat(i,"%"),r.style.top="".concat(o,"%"),r.style.left="".concat(a,"%"),s&&(t?(r.style.transform="rotate(".concat(e,"deg) scale(1.005)"),r.style.objectFit="contain"):(r.style.transform="rotate(".concat(e,"deg) scale(1.005)"),r.style.objectFit=this.objectFitVideo))}},{key:"shouldUseBitratePersistence",value:function(){return this.store.dispatch(Object(p.b)(this.playerId,V.a))}}]),e}();function te(e){return void 0!==e.getTime?e.getTime():e}t.a=ee},904:function(e,t,r){"use strict";r(56);var n=r(3),i=r.n(n),o=r(4),a=r.n(o),s=r(6),c=r.n(s),u=r(16),l=r.n(u),d=r(19),f=r.n(d),p=r(10),h=r.n(p),v=r(1),y=r.n(v),E=r(0),g=r(625),b=r(561),O=r(91),m=r.n(O);m.a.string,m.a.func,m.a.object,m.a.bool,m.a.number,m.a.string,m.a.oneOf(["media_entity","gif","vmap"]),m.a.bool,m.a.object,m.a.node,m.a.shape({objectFitVideo:m.a.oneOf(b.c),playerHandlesRotations:m.a.bool}),m.a.number,m.a.string,m.a.shape({getValue:m.a.func}),m.a.bool,m.a.object,m.a.bool,m.a.bool,m.a.bool,m.a.instanceOf(Date),m.a.string,m.a.bool,m.a.number,m.a.object,m.a.string,m.a.string,m.a.bool,m.a.object,m.a.string,m.a.string,m.a.func,m.a.bool,m.a.bool,m.a.object,m.a.arrayOf(m.a.shape({src:m.a.string,type:m.a.string})),m.a.object,m.a.object,m.a.oneOfType([m.a.string,m.a.number]),m.a.string;function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var i=h()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var I={base:{height:"100%",position:"relative",transform:"translateZ(0)",width:"100%"},wrapper:{height:"100%",position:"absolute",width:"100%"}},_=function(e){l()(r,e);var t=T(r);function r(e){var n;return i()(this,r),n=t.call(this,e),y()(c()(n),"_setVideoRef",(function(e){e&&n.videoPlayer.attach(e)})),y()(c()(n),"_setContainerRef",(function(e){n.containerDomElement=e})),y()(c()(n),"_renderCustomOverlay",(function(){if(n.props.customOverlay)return n.props.customOverlay})),n.videoPlayer=g.a.createPlayer({source:n.props.videoId,videoConfig:{contentId:n.props.contentId,contentType:n.props.contentType,cta:n.props.cta,durationMs:n.props.durationMs,expandedUrl:n.props.expandedUrl,eventId:n.props.eventId,mediaAvailability:n.props.mediaAvailability,publisherId:n.props.publisherId,poster:n.props.poster,loop:n.props.loop,shouldLoadTranslations:n.props.shouldLoadTranslations,variants:n.props.variants,viewCount:n.props.viewCount,vmapUrl:n.props.vmapUrl},httpClient:n.props.httpClient,twitterAuthedHttpClient:n.props.twitterAuthedHttpClient,options:{accessibilityLabel:n.props.accessibilityLabel,autoplay:n.props.autoplay,adProvider:n.props.adProvider,analytics:n.props.analytics,bitrateCap:n.props.bitrateCap,featureProvider:n.props.featureProvider,hlsjsVersion:n.props.hlsjsVersion,includeBroadcastEventAssociation:n.props.includeBroadcastEventAssociation,initiallyMuted:n.props.initiallyMuted,initiallyMutedCaptions:n.props.initiallyMutedCaptions,intentToPlayTime:n.props.intentToPlayTime,language:n.props.language,maxLoopCount:n.props.maxLoopCount,objectFitVideo:n.props.displayOptions.objectFitVideo,playbackSessionId:n.props.playbackSessionId,playerHandlesRotations:n.props.displayOptions.playerHandlesRotations,precache:n.props.precache,promotedContext:n.props.promotedContext,requestedTimecode:n.props.requestedTimecode,showControls:!1,showGeolocationPrompt:n.props.geolocationPrompt,shouldRetryAutoplayMuted:n.props.shouldRetryAutoplayMuted,videoEl:n.props.videoEl}}),n.props.setPlayerApi&&n.props.setPlayerApi(n.videoPlayer),n}return a()(r,[{key:"componentWillUnmount",value:function(){try{this.videoPlayer.teardown()}catch(e){}}},{key:"render",value:function(){return E.createElement("div",{ref:this._setContainerRef,style:I.base},E.createElement("div",{ref:this._setVideoRef,style:I.wrapper}),this._renderCustomOverlay())}}]),r}(E.PureComponent);y()(_,"defaultProps",{displayOptions:{},variants:[]}),_.propTypes={};t.a=_}}]);